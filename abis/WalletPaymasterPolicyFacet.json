{"abi":[{"type":"function","name":"WalletPaymasterPolicy_init","inputs":[{"name":"paymasterAddress_","type":"address","internalType":"address"},{"name":"dailyBudget_","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"addAllowedOperation","inputs":[{"name":"role","type":"uint8","internalType":"uint8"},{"name":"operation","type":"bytes4","internalType":"bytes4"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"canSponsorUser","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"operation","type":"bytes4","internalType":"bytes4"}],"outputs":[{"name":"canSponsor","type":"bool","internalType":"bool"},{"name":"reason","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"getPaymasterInfo","inputs":[],"outputs":[{"name":"enabled","type":"bool","internalType":"bool"},{"name":"dailyBudget","type":"uint256","internalType":"uint256"},{"name":"spent","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getRolePolicy","inputs":[{"name":"role","type":"uint8","internalType":"uint8"}],"outputs":[{"name":"canBeSponsored","type":"bool","internalType":"bool"},{"name":"dailyLimit","type":"uint256","internalType":"uint256"},{"name":"allowedOperations","type":"bytes4[]","internalType":"bytes4[]"}],"stateMutability":"view"},{"type":"function","name":"getUserSpending","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"spent","type":"uint256","internalType":"uint256"},{"name":"lastSpend","type":"uint48","internalType":"uint48"}],"stateMutability":"view"},{"type":"function","name":"isOperationAllowed","inputs":[{"name":"role","type":"uint8","internalType":"uint8"},{"name":"operation","type":"bytes4","internalType":"bytes4"}],"outputs":[{"name":"allowed","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"packedSelectors","inputs":[],"outputs":[{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"pure"},{"type":"function","name":"recordSpending","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"removeAllowedOperation","inputs":[{"name":"role","type":"uint8","internalType":"uint8"},{"name":"operation","type":"bytes4","internalType":"bytes4"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setDailyBudget","inputs":[{"name":"budget","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setPaymasterAddress","inputs":[{"name":"paymaster","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setPaymasterEnabled","inputs":[{"name":"enabled","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setRolePolicy","inputs":[{"name":"role","type":"uint8","internalType":"uint8"},{"name":"canBeSponsored","type":"bool","internalType":"bool"},{"name":"dailyLimit","type":"uint256","internalType":"uint256"},{"name":"allowedOperations","type":"bytes4[]","internalType":"bytes4[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"DailyBudgetSet","inputs":[{"name":"budget","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OperationRemoved","inputs":[{"name":"role","type":"uint8","indexed":true,"internalType":"uint8"},{"name":"operation","type":"bytes4","indexed":false,"internalType":"bytes4"}],"anonymous":false},{"type":"event","name":"OperationWhitelisted","inputs":[{"name":"role","type":"uint8","indexed":true,"internalType":"uint8"},{"name":"operation","type":"bytes4","indexed":false,"internalType":"bytes4"}],"anonymous":false},{"type":"event","name":"PaymasterAddressSet","inputs":[{"name":"paymaster","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"PaymasterEnabled","inputs":[{"name":"enabled","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false},{"type":"event","name":"RolePolicySet","inputs":[{"name":"role","type":"uint8","indexed":true,"internalType":"uint8"},{"name":"canBeSponsored","type":"bool","indexed":false,"internalType":"bool"},{"name":"dailyLimit","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SpendingRecorded","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"WalletPaymasterPolicy_AlreadyInitialized","inputs":[]},{"type":"error","name":"Wallet_BudgetExceeded","inputs":[]},{"type":"error","name":"Wallet_InvalidPaymasterAddress","inputs":[]},{"type":"error","name":"Wallet_InvalidRole","inputs":[]},{"type":"error","name":"Wallet_OnlyPaymaster","inputs":[]},{"type":"error","name":"Wallet_OperationNotAllowed","inputs":[]},{"type":"error","name":"Wallet_PaymasterNotEnabled","inputs":[]},{"type":"error","name":"Wallet_Unauthorized","inputs":[]},{"type":"error","name":"Wallet_UserLimitExceeded","inputs":[]}],"bytecode":{"object":"0x6080806040523460155761168a908161001a8239f35b5f80fdfe60806040526004361015610011575f80fd5b5f3560e01c806309dd7c2414610dc157806323f905f814610baf57806334dfbfee14610a415780633e62267c1461095857806343bf4e8d146108b6578063632b3b471461088457806378183705146108525780637cfc2db4146107e35780639b23fb0a146107ad578063a1ad778b14610733578063a9ab9072146104a5578063bebf4e981461018c578063cb9ad4451461013f5763ced4d851146100b3575f80fd5b3461013b575f36600319011261013b575f5160206116155f395f51905f525465ffffffffffff6100f2815f5160206116355f395f51905f525416610f63565b16421015610134575b60609060ff5f5160206115f55f395f51905f525416905f5160206115d55f395f51905f5254604051921515835260208301526040820152f35b505f6100fb565b5f80fd5b3461013b57604036600319011261013b5761016961015b610e19565b610163610e63565b90611275565b9061018860405192839215158352604060208401526040830190610e2f565b0390f35b3461013b57608036600319011261013b576101a5610e53565b60243580151580910361013b576044356064359267ffffffffffffffff841161013b573660238501121561013b5783600401359367ffffffffffffffff8511610470578460051b90604051956101fe6020840188610e7a565b8652602460208701928201019036821161013b57602401915b8183106104845750505061022961155f565b6040516060810181811067ffffffffffffffff8211176104705760405283815260026020820191848352604081019287845261026485610fda565b9151151560ff8019845416911617825551600182015501905180519067ffffffffffffffff821161047057600160401b8211610470578254828455808310610416575b50602001915f5260205f208160031c915f5b8381106103cb5750600719811690038061035a575b50505050604060ff7ff987fa24fb87ea64439b8ad501ffde629620f37a10c577293c95b5d88d52c3bc921693849382519182526020820152a25f5b825181101561035857600190827f1bdb30bc8dcc113aec53004495417409049f3f328f21f8eaa44ce701e5707ffe602063ffffffff60e01b818560051b8901015116604051908152a201610309565b005b925f935f5b818110610396575050500155604060ff7ff987fa24fb87ea64439b8ad501ffde629620f37a10c577293c95b5d88d52c3bc876102ce565b90919460206103c1600192885160e01c908560021b63ffffffff809160031b9316831b921b19161790565b960192910161035f565b5f5f5b600881106103e35750838201556001016102b9565b9590602061040d600192845160e01c908a60021b63ffffffff809160031b9316831b921b19161790565b920196016103ce565b835f5260205f20600780850160031c8201920160031c0190601c8460021b1680610455575b505b81811061044a57506102a7565b5f815560010161043d565b5f198201908154905f199060200360031b1c1690558961043b565b634e487b7160e01b5f52604160045260245ffd5b82356001600160e01b03198116810361013b57815260209283019201610217565b3461013b57602036600319011261013b576104c66104c1610e53565b610fda565b60ff81541660026001830154920190604051808160208554928381520180955f5260205f20925f905b80600783011061068e5761054a94549181811061066f575b818110610650575b818110610631575b818110610612575b8181106105f3575b8181106105d4575b8181106105b7575b106105a2575b5095949392950385610e7a565b604051938493606085019215158552602085015260606040850152518091526080830191905f5b81811061057f575050500390f35b82516001600160e01b031916845285945060209384019390920191600101610571565b6001600160e01b03191681526020018761053d565b602083811b6001600160e01b031916855290930192600101610537565b604083901b6001600160e01b031916845260209093019260010161052f565b606083901b6001600160e01b0319168452602090930192600101610527565b608083901b6001600160e01b031916845260209093019260010161051f565b60a083901b6001600160e01b0319168452602090930192600101610517565b60c083901b6001600160e01b031916845260209093019260010161050f565b60e083901b6001600160e01b0319168452602090930192600101610507565b916008919350610100600191865463ffffffff60e01b8160e01b16825263ffffffff60e01b8160c01b16602083015263ffffffff60e01b8160a01b16604083015263ffffffff60e01b8160801b16606083015263ffffffff60e01b8160601b16608083015263ffffffff60e01b8160401b1660a083015263ffffffff60e01b8160201b1660c083015263ffffffff60e01b1660e08201520194019201849293916104ef565b3461013b57602036600319011261013b5760043580151580910361013b5760207f191484692b5e00b8cc63fb644dba478a1c075b13d1a289bc295647e29a4a89539161077d61155f565b60ff195f5160206115f55f395f51905f52541660ff8216175f5160206115f55f395f51905f5255604051908152a1005b3461013b57604036600319011261013b5760206107d96107cb610e53565b6107d3610e63565b906111ec565b6040519015158152f35b3461013b57602036600319011261013b576107fc610e19565b61080461155f565b6001600160a01b0381169081156108445761081e90610e9c565b7f24bbce86f9232b036fb3b1b306ccab1cd608eb413bb4fd02f7d8bbe69c527b5b5f80a2005b6223408b60e71b5f5260045ffd5b3461013b57604036600319011261013b5761035861086e610e53565b610876610e63565b9061087f61155f565b6110dc565b3461013b57604036600319011261013b576103586108a0610e53565b6108a8610e63565b906108b161155f565b61100a565b3461013b57602036600319011261013b5760406108d1610e19565b6108da81610f95565b549065ffffffffffff6108fc815f5160206116355f395f51905f525416610f63565b16421015610950575b6001600160a01b03165f9081527f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d88624546020526040902065ffffffffffff90541682519182526020820152f35b5f9150610905565b3461013b575f36600319011261013b576040805163047f20bf60e31b602082015263632b3b4760e01b602482015263cb9ad44560e01b602882015263ced4d85160e01b602c8201526354d5c83960e11b60308201526343bf4e8d60e01b603480830191909152634d91fd8560e11b6038830152631a6fdff760e11b603c830152637818370560e01b928201929092526302775f0960e21b6044820152631f3f0b6d60e21b604882015263a1ad778b60e01b604c8201526317d7e9d360e31b605082015290815261018890610a2d605482610e7a565b604051918291602083526020830190610e2f565b3461013b57604036600319011261013b57610a5a610e19565b7f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d88624515460243591906001600160a01b03163303610ba05760207fd9e8ae322a817db2b0c3eaaa156509cbd06f2683e26d00465151938c9ec45e2f9165ffffffffffff610ad4815f5160206116355f395f51905f525416610f63565b16421015610b7a575b610ae681610f95565b610af1858254610fcd565b9055610b0b845f5160206116155f395f51905f5254610fcd565b5f5160206116155f395f51905f52556001600160a01b0381165f9081527f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d886245460205260409020805465ffffffffffff19164265ffffffffffff161790556040519384526001600160a01b031692a2005b610b8b65ffffffffffff4216610efc565b5f5f5160206116155f395f51905f5255610add565b637b3a78cb60e11b5f5260045ffd5b3461013b57604036600319011261013b57610bc8610e19565b6024355f5160206115f55f395f51905f525460ff8116610db25760ff19166001175f5160206115f55f395f51905f5255610c0182610e9c565b805f5160206115d55f395f51905f5255610c2265ffffffffffff4216610efc565b5f80527f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d88624526020527f2e693cab0b18efbb1a1310e5810eccc6aa4682afd3d34b079d6bb7cbe425fbe2805460ff19166001179055670de0b6b3a76400007f2e693cab0b18efbb1a1310e5810eccc6aa4682afd3d34b079d6bb7cbe425fbe3557f2e693cab0b18efbb1a1310e5810eccc6aa4682afd3d34b079d6bb7cbe425fbe4805490929091600160401b83101561047057610d06837fd7992138ad08aafd8a15af0a5d8c5207a66fcb949c6317f548bcc0050af4c684956001602096018155610f2e565b63ffffffff82549160031b1b908119161790557f191484692b5e00b8cc63fb644dba478a1c075b13d1a289bc295647e29a4a89538360405160018152a1604051916001600160a01b03167f24bbce86f9232b036fb3b1b306ccab1cd608eb413bb4fd02f7d8bbe69c527b5b5f80a28152a15f7ff987fa24fb87ea64439b8ad501ffde629620f37a10c577293c95b5d88d52c3bc6040805160018152670de0b6b3a76400006020820152a2005b63df0bc98960e01b5f5260045ffd5b3461013b57602036600319011261013b577fd7992138ad08aafd8a15af0a5d8c5207a66fcb949c6317f548bcc0050af4c6846020600435610e0061155f565b805f5160206115d55f395f51905f5255604051908152a1005b600435906001600160a01b038216820361013b57565b805180835260209291819084018484015e5f828201840152601f01601f1916010190565b6004359060ff8216820361013b57565b602435906001600160e01b03198216820361013b57565b90601f8019910116810190811067ffffffffffffffff82111761047057604052565b60018060a01b03166bffffffffffffffffffffffff60a01b7f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d88624515416177f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d886245155565b65ffffffffffff1665ffffffffffff195f5160206116355f395f51905f525416175f5160206116355f395f51905f5255565b9190918054831015610f4f575f52601c60205f208360031c019260021b1690565b634e487b7160e01b5f52603260045260245ffd5b65ffffffffffff620151809116019065ffffffffffff8211610f8157565b634e487b7160e01b5f52601160045260245ffd5b6001600160a01b03165f9081527f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d88624536020526040902090565b91908201809211610f8157565b60ff165f527f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d886245260205260405f2090565b61101381610fda565b60020180545f5b8181106110a4575050805490600160401b821015610470577f1bdb30bc8dcc113aec53004495417409049f3f328f21f8eaa44ce701e5707ffe9261108c61106b8460ff946001602097018155610f2e565b8760e09392931c9083549063ffffffff809160031b9316831b921b19161790565b90556040516001600160e01b031990951685521692a2565b6110ae8184610f2e565b90546001600160e01b031960039290921b1c60e01b8116908616146110d55760010161101a565b5050505050565b906110e682610fda565b600201915f5b8354808210156110d5576111008286610f2e565b90546001600160e01b0319868116939260031b9190911c60e01b16821461112b5750506001016110ec565b90949293505f198101908111610f815763ffffffff61115e61115061117c9386610f2e565b90549060031b1c9385610f2e565b919093169083549063ffffffff809160031b9316831b921b19161790565b9055805480156111d8577fb525b4b2639d8c733faf1a72125ed7da0ec9c1bbb5c1b5786e03fd986c0790659260209260ff925f1901906111bc8282610f2e565b63ffffffff82549160031b1b19169055556040519485521692a2565b634e487b7160e01b5f52603160045260245ffd5b6111f590610fda565b6002018054915f5b83811061120c57505050505f90565b6112168184610f2e565b90546001600160e01b031960039290921b1c60e01b811690831614801561124d575b611244576001016111fd565b50505050600190565b506112588184610f2e565b90546001600160e01b031960039290921b1c60e01b811614611238565b9060ff5f5160206115f55f395f51905f525416156115285765ffffffffffff6112ad815f5160206116355f395f51905f525416610f63565b1642109182159280611502575b6114c2576040516274d5e160e81b81526001600160a01b038216600482015292602084602481305afa9384156114b7575f94611483575b505f5b60ff811661010081101561144b576001901b85166113215760ff905b1660ff8114610f81576001016112f4565b9390919261132e85610fda565b9460ff865416156113d0575f5f600288018054915b8281106113dd575b505050156113d0575050505f146113be575060015f915b015411156113815760019060405161137b602082610e7a565b5f815290565b5f90604051611391604082610e7a565b601981527f55736572206461696c79206c696d697420657863656564656400000000000000602082015290565b6113c9600191610f95565b5491611362565b60ff919493929550611310565b6113e78183610f2e565b90546001600160e01b031960039290921b1c60e01b8116908716148015611423575b61141557600101611343565b5050505060015f808061134b565b5061142e8183610f2e565b90546001600160e01b031960039290921b1c60e01b811614611409565b5050505050505f90604051611461604082610e7a565b60128152714e6f20617574686f72697a656420726f6c6560701b602082015290565b9093506020813d6020116114af575b8161149f60209383610e7a565b8101031261013b5751925f6112f1565b3d9150611492565b6040513d5f823e3d90fd5b5050505f906040516114d5604082610e7a565b601c81527f456e74697479206461696c792062756467657420657863656564656400000000602082015290565b505f5160206116155f395f51905f52545f5160206115d55f395f51905f525411156112ba565b50505f9060405161153a604082610e7a565b601581527414185e5b585cdd195c881b9bdd08195b98589b1959605a1b602082015290565b3033146115d25760ff6040516020808201913360601b835260148152611586603482610e7a565b604051928391518091835e81017f480144b1b455a0fe78db9dc5dd1b2d4c571f1de5c4ffa2484c50217a3dfae7b98152030190205416156115c357565b631bbfbd0760e21b5f5260045ffd5b56fe96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d886245096639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d886244f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d886245596639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d8862456a2646970667358221220cc1424a1af59129aa632d8537ea049e4562a6780cb2a5626cc28b55d6bea79bb64736f6c634300081e0033","sourceMap":"888:15377:344:-:0;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x60806040526004361015610011575f80fd5b5f3560e01c806309dd7c2414610dc157806323f905f814610baf57806334dfbfee14610a415780633e62267c1461095857806343bf4e8d146108b6578063632b3b471461088457806378183705146108525780637cfc2db4146107e35780639b23fb0a146107ad578063a1ad778b14610733578063a9ab9072146104a5578063bebf4e981461018c578063cb9ad4451461013f5763ced4d851146100b3575f80fd5b3461013b575f36600319011261013b575f5160206116155f395f51905f525465ffffffffffff6100f2815f5160206116355f395f51905f525416610f63565b16421015610134575b60609060ff5f5160206115f55f395f51905f525416905f5160206115d55f395f51905f5254604051921515835260208301526040820152f35b505f6100fb565b5f80fd5b3461013b57604036600319011261013b5761016961015b610e19565b610163610e63565b90611275565b9061018860405192839215158352604060208401526040830190610e2f565b0390f35b3461013b57608036600319011261013b576101a5610e53565b60243580151580910361013b576044356064359267ffffffffffffffff841161013b573660238501121561013b5783600401359367ffffffffffffffff8511610470578460051b90604051956101fe6020840188610e7a565b8652602460208701928201019036821161013b57602401915b8183106104845750505061022961155f565b6040516060810181811067ffffffffffffffff8211176104705760405283815260026020820191848352604081019287845261026485610fda565b9151151560ff8019845416911617825551600182015501905180519067ffffffffffffffff821161047057600160401b8211610470578254828455808310610416575b50602001915f5260205f208160031c915f5b8381106103cb5750600719811690038061035a575b50505050604060ff7ff987fa24fb87ea64439b8ad501ffde629620f37a10c577293c95b5d88d52c3bc921693849382519182526020820152a25f5b825181101561035857600190827f1bdb30bc8dcc113aec53004495417409049f3f328f21f8eaa44ce701e5707ffe602063ffffffff60e01b818560051b8901015116604051908152a201610309565b005b925f935f5b818110610396575050500155604060ff7ff987fa24fb87ea64439b8ad501ffde629620f37a10c577293c95b5d88d52c3bc876102ce565b90919460206103c1600192885160e01c908560021b63ffffffff809160031b9316831b921b19161790565b960192910161035f565b5f5f5b600881106103e35750838201556001016102b9565b9590602061040d600192845160e01c908a60021b63ffffffff809160031b9316831b921b19161790565b920196016103ce565b835f5260205f20600780850160031c8201920160031c0190601c8460021b1680610455575b505b81811061044a57506102a7565b5f815560010161043d565b5f198201908154905f199060200360031b1c1690558961043b565b634e487b7160e01b5f52604160045260245ffd5b82356001600160e01b03198116810361013b57815260209283019201610217565b3461013b57602036600319011261013b576104c66104c1610e53565b610fda565b60ff81541660026001830154920190604051808160208554928381520180955f5260205f20925f905b80600783011061068e5761054a94549181811061066f575b818110610650575b818110610631575b818110610612575b8181106105f3575b8181106105d4575b8181106105b7575b106105a2575b5095949392950385610e7a565b604051938493606085019215158552602085015260606040850152518091526080830191905f5b81811061057f575050500390f35b82516001600160e01b031916845285945060209384019390920191600101610571565b6001600160e01b03191681526020018761053d565b602083811b6001600160e01b031916855290930192600101610537565b604083901b6001600160e01b031916845260209093019260010161052f565b606083901b6001600160e01b0319168452602090930192600101610527565b608083901b6001600160e01b031916845260209093019260010161051f565b60a083901b6001600160e01b0319168452602090930192600101610517565b60c083901b6001600160e01b031916845260209093019260010161050f565b60e083901b6001600160e01b0319168452602090930192600101610507565b916008919350610100600191865463ffffffff60e01b8160e01b16825263ffffffff60e01b8160c01b16602083015263ffffffff60e01b8160a01b16604083015263ffffffff60e01b8160801b16606083015263ffffffff60e01b8160601b16608083015263ffffffff60e01b8160401b1660a083015263ffffffff60e01b8160201b1660c083015263ffffffff60e01b1660e08201520194019201849293916104ef565b3461013b57602036600319011261013b5760043580151580910361013b5760207f191484692b5e00b8cc63fb644dba478a1c075b13d1a289bc295647e29a4a89539161077d61155f565b60ff195f5160206115f55f395f51905f52541660ff8216175f5160206115f55f395f51905f5255604051908152a1005b3461013b57604036600319011261013b5760206107d96107cb610e53565b6107d3610e63565b906111ec565b6040519015158152f35b3461013b57602036600319011261013b576107fc610e19565b61080461155f565b6001600160a01b0381169081156108445761081e90610e9c565b7f24bbce86f9232b036fb3b1b306ccab1cd608eb413bb4fd02f7d8bbe69c527b5b5f80a2005b6223408b60e71b5f5260045ffd5b3461013b57604036600319011261013b5761035861086e610e53565b610876610e63565b9061087f61155f565b6110dc565b3461013b57604036600319011261013b576103586108a0610e53565b6108a8610e63565b906108b161155f565b61100a565b3461013b57602036600319011261013b5760406108d1610e19565b6108da81610f95565b549065ffffffffffff6108fc815f5160206116355f395f51905f525416610f63565b16421015610950575b6001600160a01b03165f9081527f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d88624546020526040902065ffffffffffff90541682519182526020820152f35b5f9150610905565b3461013b575f36600319011261013b576040805163047f20bf60e31b602082015263632b3b4760e01b602482015263cb9ad44560e01b602882015263ced4d85160e01b602c8201526354d5c83960e11b60308201526343bf4e8d60e01b603480830191909152634d91fd8560e11b6038830152631a6fdff760e11b603c830152637818370560e01b928201929092526302775f0960e21b6044820152631f3f0b6d60e21b604882015263a1ad778b60e01b604c8201526317d7e9d360e31b605082015290815261018890610a2d605482610e7a565b604051918291602083526020830190610e2f565b3461013b57604036600319011261013b57610a5a610e19565b7f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d88624515460243591906001600160a01b03163303610ba05760207fd9e8ae322a817db2b0c3eaaa156509cbd06f2683e26d00465151938c9ec45e2f9165ffffffffffff610ad4815f5160206116355f395f51905f525416610f63565b16421015610b7a575b610ae681610f95565b610af1858254610fcd565b9055610b0b845f5160206116155f395f51905f5254610fcd565b5f5160206116155f395f51905f52556001600160a01b0381165f9081527f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d886245460205260409020805465ffffffffffff19164265ffffffffffff161790556040519384526001600160a01b031692a2005b610b8b65ffffffffffff4216610efc565b5f5f5160206116155f395f51905f5255610add565b637b3a78cb60e11b5f5260045ffd5b3461013b57604036600319011261013b57610bc8610e19565b6024355f5160206115f55f395f51905f525460ff8116610db25760ff19166001175f5160206115f55f395f51905f5255610c0182610e9c565b805f5160206115d55f395f51905f5255610c2265ffffffffffff4216610efc565b5f80527f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d88624526020527f2e693cab0b18efbb1a1310e5810eccc6aa4682afd3d34b079d6bb7cbe425fbe2805460ff19166001179055670de0b6b3a76400007f2e693cab0b18efbb1a1310e5810eccc6aa4682afd3d34b079d6bb7cbe425fbe3557f2e693cab0b18efbb1a1310e5810eccc6aa4682afd3d34b079d6bb7cbe425fbe4805490929091600160401b83101561047057610d06837fd7992138ad08aafd8a15af0a5d8c5207a66fcb949c6317f548bcc0050af4c684956001602096018155610f2e565b63ffffffff82549160031b1b908119161790557f191484692b5e00b8cc63fb644dba478a1c075b13d1a289bc295647e29a4a89538360405160018152a1604051916001600160a01b03167f24bbce86f9232b036fb3b1b306ccab1cd608eb413bb4fd02f7d8bbe69c527b5b5f80a28152a15f7ff987fa24fb87ea64439b8ad501ffde629620f37a10c577293c95b5d88d52c3bc6040805160018152670de0b6b3a76400006020820152a2005b63df0bc98960e01b5f5260045ffd5b3461013b57602036600319011261013b577fd7992138ad08aafd8a15af0a5d8c5207a66fcb949c6317f548bcc0050af4c6846020600435610e0061155f565b805f5160206115d55f395f51905f5255604051908152a1005b600435906001600160a01b038216820361013b57565b805180835260209291819084018484015e5f828201840152601f01601f1916010190565b6004359060ff8216820361013b57565b602435906001600160e01b03198216820361013b57565b90601f8019910116810190811067ffffffffffffffff82111761047057604052565b60018060a01b03166bffffffffffffffffffffffff60a01b7f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d88624515416177f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d886245155565b65ffffffffffff1665ffffffffffff195f5160206116355f395f51905f525416175f5160206116355f395f51905f5255565b9190918054831015610f4f575f52601c60205f208360031c019260021b1690565b634e487b7160e01b5f52603260045260245ffd5b65ffffffffffff620151809116019065ffffffffffff8211610f8157565b634e487b7160e01b5f52601160045260245ffd5b6001600160a01b03165f9081527f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d88624536020526040902090565b91908201809211610f8157565b60ff165f527f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d886245260205260405f2090565b61101381610fda565b60020180545f5b8181106110a4575050805490600160401b821015610470577f1bdb30bc8dcc113aec53004495417409049f3f328f21f8eaa44ce701e5707ffe9261108c61106b8460ff946001602097018155610f2e565b8760e09392931c9083549063ffffffff809160031b9316831b921b19161790565b90556040516001600160e01b031990951685521692a2565b6110ae8184610f2e565b90546001600160e01b031960039290921b1c60e01b8116908616146110d55760010161101a565b5050505050565b906110e682610fda565b600201915f5b8354808210156110d5576111008286610f2e565b90546001600160e01b0319868116939260031b9190911c60e01b16821461112b5750506001016110ec565b90949293505f198101908111610f815763ffffffff61115e61115061117c9386610f2e565b90549060031b1c9385610f2e565b919093169083549063ffffffff809160031b9316831b921b19161790565b9055805480156111d8577fb525b4b2639d8c733faf1a72125ed7da0ec9c1bbb5c1b5786e03fd986c0790659260209260ff925f1901906111bc8282610f2e565b63ffffffff82549160031b1b19169055556040519485521692a2565b634e487b7160e01b5f52603160045260245ffd5b6111f590610fda565b6002018054915f5b83811061120c57505050505f90565b6112168184610f2e565b90546001600160e01b031960039290921b1c60e01b811690831614801561124d575b611244576001016111fd565b50505050600190565b506112588184610f2e565b90546001600160e01b031960039290921b1c60e01b811614611238565b9060ff5f5160206115f55f395f51905f525416156115285765ffffffffffff6112ad815f5160206116355f395f51905f525416610f63565b1642109182159280611502575b6114c2576040516274d5e160e81b81526001600160a01b038216600482015292602084602481305afa9384156114b7575f94611483575b505f5b60ff811661010081101561144b576001901b85166113215760ff905b1660ff8114610f81576001016112f4565b9390919261132e85610fda565b9460ff865416156113d0575f5f600288018054915b8281106113dd575b505050156113d0575050505f146113be575060015f915b015411156113815760019060405161137b602082610e7a565b5f815290565b5f90604051611391604082610e7a565b601981527f55736572206461696c79206c696d697420657863656564656400000000000000602082015290565b6113c9600191610f95565b5491611362565b60ff919493929550611310565b6113e78183610f2e565b90546001600160e01b031960039290921b1c60e01b8116908716148015611423575b61141557600101611343565b5050505060015f808061134b565b5061142e8183610f2e565b90546001600160e01b031960039290921b1c60e01b811614611409565b5050505050505f90604051611461604082610e7a565b60128152714e6f20617574686f72697a656420726f6c6560701b602082015290565b9093506020813d6020116114af575b8161149f60209383610e7a565b8101031261013b5751925f6112f1565b3d9150611492565b6040513d5f823e3d90fd5b5050505f906040516114d5604082610e7a565b601c81527f456e74697479206461696c792062756467657420657863656564656400000000602082015290565b505f5160206116155f395f51905f52545f5160206115d55f395f51905f525411156112ba565b50505f9060405161153a604082610e7a565b601581527414185e5b585cdd195c881b9bdd08195b98589b1959605a1b602082015290565b3033146115d25760ff6040516020808201913360601b835260148152611586603482610e7a565b604051928391518091835e81017f480144b1b455a0fe78db9dc5dd1b2d4c571f1de5c4ffa2484c50217a3dfae7b98152030190205416156115c357565b631bbfbd0760e21b5f5260045ffd5b56fe96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d886245096639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d886244f96639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d886245596639f4e12bf9c3372f97e246bd53e98577e377d6e561f3d997d8d16d8862456a2646970667358221220cc1424a1af59129aa632d8537ea049e4562a6780cb2a5626cc28b55d6bea79bb64736f6c634300081e0033","sourceMap":"888:15377:344:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;888:15377:344;;;;-1:-1:-1;;;;;;;;;;;888:15377:344;;13725:29;888:15377;-1:-1:-1;;;;;;;;;;;888:15377:344;;13725:29;:::i;:::-;888:15377;13706:15;:48;;13702:94;;888:15377;;;;-1:-1:-1;;;;;;;;;;;888:15377:344;;;-1:-1:-1;;;;;;;;;;;888:15377:344;;;;;;;;;;;;;;;;;13702:94;-1:-1:-1;888:15377:344;13702:94;;888:15377;;;;;;;;;;-1:-1:-1;;888:15377:344;;;;;;;:::i;:::-;;;:::i;:::-;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;-1:-1:-1;;888:15377:344;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;1175:62;;;;;:::i;:::-;888:15377;;;;;;;;;;;;;;;;;;;;;7259:106;;888:15377;;;;;7259:106;;888:15377;;;;7224:20;;;:::i;:::-;888:15377;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;888:15377:344;;;;;;;;;;;;;;;;;;;;;;;;;7224:14;888:15377;;;;;;;;;-1:-1:-1;;;888:15377:344;;;;;;;;;;;;;;7381:47;888:15377;;;;;;;;;;;;;;7381:47;888:15377;7489:3;888:15377;;7459:28;;;;;888:15377;;;7513:48;888:15377;;;;;;;;;;;;;;;;;;7513:48;888:15377;7444:13;;7459:28;888:15377;;;;;;;;;;;;-1:-1:-1;;;888:15377:344;;;;7381:47;888:15377;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;888:15377:344;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7224:14;888:15377;;;;;7224:14;888:15377;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7224:14;888:15377;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;888:15377:344;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;888:15377:344;;;;13147:20;888:15377;;:::i;:::-;13147:20;:::i;:::-;888:15377;;;;13227:24;13208:17;;;888:15377;13227:24;;888:15377;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;888:15377:344;;;;;-1:-1:-1;888:15377:344;;;;;;;;;13208:17;888:15377;;;;-1:-1:-1;;;;;;888:15377:344;;;;;;;;;;;;;-1:-1:-1;;;;;;888:15377:344;;;;;;;13208:17;888:15377;;;;;;;;-1:-1:-1;;;;;;888:15377:344;;;;;;;;13208:17;888:15377;;;;;;;;-1:-1:-1;;;;;;888:15377:344;;;;;;;;13208:17;888:15377;;;;;;;;-1:-1:-1;;;;;;888:15377:344;;;;;;;;13208:17;888:15377;;;;;;;;-1:-1:-1;;;;;;888:15377:344;;;;;;;;13208:17;888:15377;;;;;;;;-1:-1:-1;;;;;;888:15377:344;;;;;;;;13208:17;888:15377;;;;;;;;-1:-1:-1;;;;;;888:15377:344;;;;;;;;13208:17;888:15377;;;;;;;;;;13208:17;888:15377;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;888:15377:344;;;;;;;;;;;;;;;5840:25;1175:62;;;:::i;:::-;888:15377;;-1:-1:-1;;;;;;;;;;;888:15377:344;;;;;;-1:-1:-1;;;;;;;;;;;888:15377:344;;;;;;5840:25;888:15377;;;;;;;-1:-1:-1;;888:15377:344;;;;;;;;:::i;:::-;;;:::i;:::-;;;:::i;:::-;;;;;;;;;;;;;;;-1:-1:-1;;888:15377:344;;;;;;:::i;:::-;1175:62;;:::i;:::-;-1:-1:-1;;;;;888:15377:344;;;6485:23;;6481:68;;6618:30;;;:::i;:::-;6663;888:15377;6663:30;;888:15377;6481:68;6517:32;;;888:15377;6517:32;888:15377;;6517:32;888:15377;;;;;;-1:-1:-1;;888:15377:344;;;;1229:1;888:15377;;:::i;:::-;;;:::i;:::-;1175:62;;;:::i;:::-;1229:1;:::i;888:15377::-;;;;;;-1:-1:-1;;888:15377:344;;;;1229:1;888:15377;;:::i;:::-;;;:::i;:::-;1175:62;;;:::i;:::-;1229:1;:::i;888:15377::-;;;;;;-1:-1:-1;;888:15377:344;;;;;;;:::i;:::-;14280:18;;;:::i;:::-;888:15377;;;14331:29;888:15377;-1:-1:-1;;;;;;;;;;;888:15377:344;;14331:29;:::i;:::-;888:15377;14312:15;:48;;14308:94;;888:15377;-1:-1:-1;;;;;888:15377:344;;;;;12424:20;888:15377;;;;;;;;;;;;;;;;;;;14308:94;888:15377;;-1:-1:-1;14308:94:344;;888:15377;;;;;;-1:-1:-1;;888:15377:344;;;;;;;-1:-1:-1;;;15358:898:344;;;888:15377;-1:-1:-1;;;888:15377:344;;;;-1:-1:-1;;;888:15377:344;;;;-1:-1:-1;;;888:15377:344;;;;-1:-1:-1;;;888:15377:344;;;;-1:-1:-1;;;888:15377:344;;;;;;;;-1:-1:-1;;;888:15377:344;;;;-1:-1:-1;;;888:15377:344;;;;-1:-1:-1;;;888:15377:344;;;;;;;-1:-1:-1;;;888:15377:344;;;;-1:-1:-1;;;888:15377:344;;;;-1:-1:-1;;;888:15377:344;;;;-1:-1:-1;;;888:15377:344;;;;15358:898;;;888:15377;;15358:898;;888:15377;15358:898;:::i;:::-;888:15377;;;;;15358:898;888:15377;;15358:898;888:15377;;;;:::i;:::-;;;;;;-1:-1:-1;;888:15377:344;;;;;;:::i;:::-;11947:18;888:15377;;;;;-1:-1:-1;;;;;888:15377:344;11933:10;:32;11929:92;;888:15377;12492:30;888:15377;;12096:29;888:15377;-1:-1:-1;;;;;;;;;;;888:15377:344;;12096:29;:::i;:::-;888:15377;12077:15;:48;;12073:239;;888:15377;12349:18;;;:::i;:::-;:28;888:15377;;;12349:28;:::i;:::-;888:15377;;12387:27;888:15377;-1:-1:-1;;;;;;;;;;;888:15377:344;12387:27;:::i;:::-;-1:-1:-1;;;;;;;;;;;888:15377:344;-1:-1:-1;;;;;888:15377:344;;;;;;12424:20;888:15377;;;;;;;-1:-1:-1;;888:15377:344;12077:15;888:15377;;;;;;;;;;-1:-1:-1;;;;;888:15377:344;;12492:30;888:15377;12073:239;12141:46;888:15377;12077:15;888:15377;12141:46;:::i;:::-;888:15377;-1:-1:-1;;;;;;;;;;;888:15377:344;12073:239;;11929:92;11988:22;;;888:15377;11988:22;888:15377;;11988:22;888:15377;;;;;;-1:-1:-1;;888:15377:344;;;;;;:::i;:::-;;;-1:-1:-1;;;;;;;;;;;888:15377:344;;;;4656:89;;-1:-1:-1;;888:15377:344;;;-1:-1:-1;;;;;;;;;;;888:15377:344;4809:38;;;:::i;:::-;888:15377;-1:-1:-1;;;;;;;;;;;888:15377:344;4895:46;888:15377;4925:15;888:15377;4895:46;:::i;:::-;888:15377;;;5040:14;888:15377;;;;;-1:-1:-1;;888:15377:344;;;;;5120:7;5089:28;888:15377;5162:35;888:15377;;5162:35;;888:15377;;-1:-1:-1;;;888:15377:344;;;;;;;5340:28;888:15377;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;5250:22;888:15377;;;;;;5250:22;888:15377;;;-1:-1:-1;;;;;888:15377:344;5287:38;888:15377;;5287:38;888:15377;;5340:28;888:15377;5383:31;888:15377;;;;;;5120:7;888:15377;;;;5383:31;888:15377;4656:89;4692:42;;;888:15377;4692:42;888:15377;;4692:42;888:15377;;;;;;-1:-1:-1;;888:15377:344;;;;6155:22;888:15377;;;1175:62;;:::i;:::-;888:15377;-1:-1:-1;;;;;;;;;;;888:15377:344;;;;;;6155:22;888:15377;;;;;-1:-1:-1;;;;;888:15377:344;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;-1:-1:-1;888:15377:344;;;;;;;;-1:-1:-1;;888:15377:344;;;;:::o;:::-;;;;;;;;;;;:::o;:::-;;;;-1:-1:-1;;;;;;888:15377:344;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;4809:18;888:15377;;;4809:18;888:15377;:::o;:::-;;;;;-1:-1:-1;;;;;;;;;;;888:15377:344;;;-1:-1:-1;;;;;;;;;;;888:15377:344;:::o;:::-;;;;;;;;;;;-1:-1:-1;888:15377:344;;;-1:-1:-1;888:15377:344;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;-1:-1:-1;;;;;888:15377:344;;;;;12349:12;888:15377;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;13147:14;888:15377;;;;;;:::o;7734:560::-;7930:20;;;:::i;:::-;8020:24;;888:15377;;-1:-1:-1;8016:35:344;;;;;;888:15377;;;;;-1:-1:-1;;;888:15377:344;;;;;8250:37;888:15377;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;888:15377:344;;;;;;;8250:37;7734:560::o;8053:3::-;8076:27;;;;:::i;:::-;888:15377;;-1:-1:-1;;;;;;7930:14:344;888:15377;;;;;;;;;;;;8076:40;8072:103;;888:15377;;8001:13;;8072:103;8136:7;;;;;:::o;8452:670::-;;8651:20;;;:::i;:::-;8706:24;;;-1:-1:-1;8739:3:344;888:15377;;8702:35;;;;;;8762:27;;;;:::i;:::-;888:15377;;-1:-1:-1;;;;;;888:15377:344;;;;;8651:14;888:15377;;;;;;;;8762:40;;8758:348;;8739:3;;888:15377;;8687:13;;8758:348;888:15377;;;;-1:-1:-1;;;888:15377:344;;;;;;;;8872:27;8902:61;888:15377;8902:61;;;:::i;:::-;888:15377;;;8651:14;888:15377;;8872:27;;;:::i;:::-;888:15377;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;9034:33;;888:15377;;;;-1:-1:-1;;888:15377:344;;;;;;:::i;:::-;;;;;8651:14;888:15377;;;;;;;;;;;;;9034:33;;9085:7::o;888:15377::-;;;;-1:-1:-1;888:15377:344;;;;;-1:-1:-1;888:15377:344;14666:502;14879:20;14666:502;14879:20;:::i;:::-;14934:24;;888:15377;;;;14930:35;;;;;;15149:12;;;;888:15377;14666:502;:::o;14967:3::-;14990:27;;;;:::i;:::-;888:15377;;-1:-1:-1;;;;;;14879:14:344;888:15377;;;;;;;;;;;;14990:40;:93;;;;14967:3;14986:143;;888:15377;;14915:13;;14986:143;15103:11;;;;888:15377;15103:11;:::o;14990:93::-;15034:27;;;;;:::i;:::-;888:15377;;-1:-1:-1;;;;;;14879:14:344;888:15377;;;;;;;;;15034:49;14990:93;;9529:2004;;888:15377;-1:-1:-1;;;;;;;;;;;888:15377:344;;9742:10;9738:80;;888:15377;9936:29;888:15377;-1:-1:-1;;;;;;;;;;;888:15377:344;;9936:29;:::i;:::-;888:15377;9917:15;:48;;;;10017:49;;;;9529:2004;10013:126;;888:15377;;-1:-1:-1;;;10226:45:344;;-1:-1:-1;;;;;888:15377:344;;10226:45;;;888:15377;;;;10226:45;888:15377;10249:4;10226:45;;;;;;;888:15377;10226:45;;;9529:2004;10323:14;888:15377;10351:6;888:15377;;;10346:3;10339:10;;;;;10411:1;888:15377;;10378:44;;10373:1097;;888:15377;10351:6;10323:14;888:15377;;;;;;10411:1;888:15377;10323:14;;10373:1097;10514:20;;;;;;;:::i;:::-;888:15377;;;;;10557:22;10553:36;;888:15377;;10728:24;;;888:15377;;10704:370;10724:35;;;;;;10704:370;11096:17;;;;11092:31;;11200:35;;;;;;;;10411:1;888:15377;11200:35;;11266:17;888:15377;-1:-1:-1;11257:26:344;11253:116;;10411:1;888:15377;;;;;;;:::i;:::-;;;;11438:17;:::o;11253:116::-;888:15377;;;;;;;;:::i;:::-;;;;;;;;;11307:43;:::o;11200:35::-;11217:18;10411:1;11217:18;;:::i;:::-;888:15377;11200:35;;;11092:31;888:15377;11115:8;;;;;;;;10761:3;10792:27;;;;:::i;:::-;888:15377;;-1:-1:-1;;;;;;10514:14:344;888:15377;;;;;;;;;;;;10792:40;:93;;;;10761:3;10788:268;;10411:1;888:15377;10709:13;;10788:268;10979:23;;;;10411:1;11028:5;;;;;10792:93;10836:27;;;;;:::i;:::-;888:15377;;-1:-1:-1;;;;;;10514:14:344;888:15377;;;;;;;;;10836:49;10792:93;;10339:10;;;;;;;888:15377;;;;;;;;:::i;:::-;;;;-1:-1:-1;;;888:15377:344;;;;9529:2004;:::o;10226:45::-;;;;888:15377;10226:45;;888:15377;10226:45;;;;;;888:15377;10226:45;;;:::i;:::-;;;888:15377;;;;;10226:45;;;;;;;-1:-1:-1;10226:45:344;;;888:15377;;;;;;;;;10013:126;10082:46;;;888:15377;;;;;;;;:::i;:::-;;;;;;;;;10082:46;:::o;10017:49::-;888:15377;-1:-1:-1;;;;;;;;;;;888:15377:344;-1:-1:-1;;;;;;;;;;;888:15377:344;-1:-1:-1;10032:34:344;10017:49;;9738:80;9768:39;;888:15377;;;;;;;;:::i;:::-;;;;-1:-1:-1;;;888:15377:344;;;;9768:39;:::o;1316:391::-;1450:4;1428:10;:27;1424:64;;888:15377;;;1617:28;;;;1428:10;;888:15377;;;;1617:28;;;;;;;:::i;:::-;888:15377;;;;;;;;;;;;1607:9;888:15377;;;;;;;;1606:40;1602:99;;1316:391::o;1602:99::-;1669:21;;;-1:-1:-1;1669:21:344;;-1:-1:-1;1669:21:344;1424:64;1471:7::o","linkReferences":{}},"methodIdentifiers":{"WalletPaymasterPolicy_init(address,uint256)":"23f905f8","addAllowedOperation(uint8,bytes4)":"632b3b47","canSponsorUser(address,bytes4)":"cb9ad445","getPaymasterInfo()":"ced4d851","getRolePolicy(uint8)":"a9ab9072","getUserSpending(address)":"43bf4e8d","isOperationAllowed(uint8,bytes4)":"9b23fb0a","packedSelectors()":"3e62267c","recordSpending(address,uint256)":"34dfbfee","removeAllowedOperation(uint8,bytes4)":"78183705","setDailyBudget(uint256)":"09dd7c24","setPaymasterAddress(address)":"7cfc2db4","setPaymasterEnabled(bool)":"a1ad778b","setRolePolicy(uint8,bool,uint256,bytes4[])":"bebf4e98"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"WalletPaymasterPolicy_AlreadyInitialized\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Wallet_BudgetExceeded\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Wallet_InvalidPaymasterAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Wallet_InvalidRole\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Wallet_OnlyPaymaster\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Wallet_OperationNotAllowed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Wallet_PaymasterNotEnabled\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Wallet_Unauthorized\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Wallet_UserLimitExceeded\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"budget\",\"type\":\"uint256\"}],\"name\":\"DailyBudgetSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint8\",\"name\":\"role\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"bytes4\",\"name\":\"operation\",\"type\":\"bytes4\"}],\"name\":\"OperationRemoved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint8\",\"name\":\"role\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"bytes4\",\"name\":\"operation\",\"type\":\"bytes4\"}],\"name\":\"OperationWhitelisted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"paymaster\",\"type\":\"address\"}],\"name\":\"PaymasterAddressSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"enabled\",\"type\":\"bool\"}],\"name\":\"PaymasterEnabled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint8\",\"name\":\"role\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"canBeSponsored\",\"type\":\"bool\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"dailyLimit\",\"type\":\"uint256\"}],\"name\":\"RolePolicySet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"SpendingRecorded\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paymasterAddress_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"dailyBudget_\",\"type\":\"uint256\"}],\"name\":\"WalletPaymasterPolicy_init\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"role\",\"type\":\"uint8\"},{\"internalType\":\"bytes4\",\"name\":\"operation\",\"type\":\"bytes4\"}],\"name\":\"addAllowedOperation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes4\",\"name\":\"operation\",\"type\":\"bytes4\"}],\"name\":\"canSponsorUser\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"canSponsor\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPaymasterInfo\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"enabled\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"dailyBudget\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"spent\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"role\",\"type\":\"uint8\"}],\"name\":\"getRolePolicy\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"canBeSponsored\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"dailyLimit\",\"type\":\"uint256\"},{\"internalType\":\"bytes4[]\",\"name\":\"allowedOperations\",\"type\":\"bytes4[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getUserSpending\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"spent\",\"type\":\"uint256\"},{\"internalType\":\"uint48\",\"name\":\"lastSpend\",\"type\":\"uint48\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"role\",\"type\":\"uint8\"},{\"internalType\":\"bytes4\",\"name\":\"operation\",\"type\":\"bytes4\"}],\"name\":\"isOperationAllowed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"allowed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"packedSelectors\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"recordSpending\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"role\",\"type\":\"uint8\"},{\"internalType\":\"bytes4\",\"name\":\"operation\",\"type\":\"bytes4\"}],\"name\":\"removeAllowedOperation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"budget\",\"type\":\"uint256\"}],\"name\":\"setDailyBudget\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"paymaster\",\"type\":\"address\"}],\"name\":\"setPaymasterAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"enabled\",\"type\":\"bool\"}],\"name\":\"setPaymasterEnabled\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"role\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"canBeSponsored\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"dailyLimit\",\"type\":\"uint256\"},{\"internalType\":\"bytes4[]\",\"name\":\"allowedOperations\",\"type\":\"bytes4[]\"}],\"name\":\"setRolePolicy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"CapSign Inc. USAGE: 1. Entity configures role policies (which roles can be sponsored, daily limits, allowed operations) 2. CapSignPaymaster queries this facet via canSponsorUser() 3. If user has qualifying role + operation is whitelisted + within limits \\u2192 sponsor 4. After operation, paymaster calls recordSpending() for rate limiting\",\"details\":\"Lives on entity wallet diamonds, defines which roles/operations get sponsored\",\"kind\":\"dev\",\"methods\":{\"WalletPaymasterPolicy_init(address,uint256)\":{\"details\":\"Called during wallet deployment via MultiInit\",\"params\":{\"dailyBudget_\":\"Daily ETH budget in wei (0 = unlimited)\",\"paymasterAddress_\":\"The CapSign paymaster contract address\"}},\"addAllowedOperation(uint8,bytes4)\":{\"params\":{\"operation\":\"Function selector to whitelist\",\"role\":\"Role ID\"}},\"canSponsorUser(address,bytes4)\":{\"params\":{\"operation\":\"Function selector\",\"user\":\"User address\"},\"returns\":{\"canSponsor\":\"Whether user can be sponsored\",\"reason\":\"Reason if cannot sponsor\"}},\"getPaymasterInfo()\":{\"returns\":{\"dailyBudget\":\"Daily ETH budget\",\"enabled\":\"Whether paymaster is enabled\",\"spent\":\"Amount spent today\"}},\"getRolePolicy(uint8)\":{\"params\":{\"role\":\"Role ID\"},\"returns\":{\"allowedOperations\":\"Whitelisted operations\",\"canBeSponsored\":\"Whether role can be sponsored\",\"dailyLimit\":\"Daily ETH limit per user\"}},\"getUserSpending(address)\":{\"params\":{\"user\":\"User address\"},\"returns\":{\"lastSpend\":\"Timestamp of last spend\",\"spent\":\"Amount spent today by user\"}},\"isOperationAllowed(uint8,bytes4)\":{\"params\":{\"operation\":\"Function selector\",\"role\":\"Role ID\"},\"returns\":{\"allowed\":\"Whether operation is allowed\"}},\"packedSelectors()\":{\"details\":\"Each selector is 4 bytes, packed sequentially with no padding      MUST NOT include packedSelectors() itself in the returned selectors      MUST be a pure function (no state access)\",\"returns\":{\"_0\":\"Tightly packed bytes4 selectors\"}},\"recordSpending(address,uint256)\":{\"params\":{\"amount\":\"Amount spent in ETH (wei)\",\"user\":\"User whose operation was sponsored\"}},\"removeAllowedOperation(uint8,bytes4)\":{\"params\":{\"operation\":\"Function selector to remove\",\"role\":\"Role ID\"}},\"setDailyBudget(uint256)\":{\"params\":{\"budget\":\"Daily ETH budget in wei\"}},\"setPaymasterAddress(address)\":{\"details\":\"Can be changed by owner (e.g., when paymaster is upgraded)\",\"params\":{\"paymaster\":\"Address of the CapSignPaymaster contract\"}},\"setPaymasterEnabled(bool)\":{\"params\":{\"enabled\":\"Whether to enable paymaster\"}},\"setRolePolicy(uint8,bool,uint256,bytes4[])\":{\"params\":{\"allowedOperations\":\"Array of function selectors\",\"canBeSponsored\":\"Whether role can be sponsored\",\"dailyLimit\":\"Daily ETH limit per user (wei)\",\"role\":\"Role ID (0-255)\"}}},\"stateVariables\":{\"STORAGE_SLOT\":{\"details\":\"Format: capsign.<package>.<functionality>.storage\"}},\"title\":\"WalletPaymasterPolicyFacet\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"WalletPaymasterPolicy_init(address,uint256)\":{\"notice\":\"Initialize paymaster policy with default settings\"},\"addAllowedOperation(uint8,bytes4)\":{\"notice\":\"Add an operation to role's whitelist\"},\"canSponsorUser(address,bytes4)\":{\"notice\":\"Check if user can be sponsored for an operation\"},\"getPaymasterInfo()\":{\"notice\":\"Get paymaster info\"},\"getRolePolicy(uint8)\":{\"notice\":\"Get role policy\"},\"getUserSpending(address)\":{\"notice\":\"Get user spending info\"},\"isOperationAllowed(uint8,bytes4)\":{\"notice\":\"Check if operation is allowed for a role\"},\"packedSelectors()\":{\"notice\":\"Returns all function selectors for this facet as tightly packed bytes\"},\"recordSpending(address,uint256)\":{\"notice\":\"Record spending (called after sponsorship)\"},\"removeAllowedOperation(uint8,bytes4)\":{\"notice\":\"Remove an operation from role's whitelist\"},\"setDailyBudget(uint256)\":{\"notice\":\"Set total daily budget\"},\"setPaymasterAddress(address)\":{\"notice\":\"Set authorized paymaster address\"},\"setPaymasterEnabled(bool)\":{\"notice\":\"Enable or disable paymaster\"},\"setRolePolicy(uint8,bool,uint256,bytes4[])\":{\"notice\":\"Configure sponsorship policy for a role\"}},\"notice\":\"Configures gas sponsorship policies for entity wallets\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"packages/wallets/src/facets/WalletPaymasterPolicyFacet.sol\":\"WalletPaymasterPolicyFacet\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@account-abstraction/contracts/=lib/account-abstraction/contracts/\",\":@diamonds/=packages/diamonds/\",\":@ensdomains/=lib/v4-core/node_modules/@ensdomains/\",\":@escrows/=packages/escrows/\",\":@offerings/=packages/offerings/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@paymaster/=packages/paymaster/\",\":@tokens/=packages/tokens/\",\":@uniswap/v4-core/=lib/v4-periphery/lib/v4-core/\",\":@wallets/=packages/wallets/\",\":FreshCryptoLib/=lib/FreshCryptoLib/solidity/src/\",\":account-abstraction/=lib/account-abstraction/contracts/\",\":diamonds-src/=packages/diamonds/src/\",\":diamonds/=packages/diamonds/interfaces/\",\":ds-test/=lib/v4-core/lib/forge-std/lib/ds-test/src/\",\":eas-contracts/=lib/eas-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":escrows-src/=packages/escrows/src/\",\":escrows/=packages/escrows/interfaces/\",\":forge-gas-snapshot/=lib/v4-periphery/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":hardhat/=lib/v4-core/node_modules/hardhat/\",\":offerings-src/=packages/offerings/src/\",\":offerings/=packages/offerings/interfaces/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":paymaster-src/=packages/paymaster/src/\",\":paymaster/=packages/paymaster/interfaces/\",\":permit2/=lib/v4-periphery/lib/permit2/\",\":solady/=lib/solady/src/\",\":solmate/=lib/v4-core/lib/solmate/\",\":tokens-src/=packages/tokens/src/\",\":tokens/=packages/tokens/interfaces/\",\":v4-core/=lib/v4-core/src/\",\":v4-periphery/=lib/v4-periphery/src/\",\":wallets-src/=packages/wallets/src/\",\":wallets/=packages/wallets/interfaces/\",\":webauthn-sol/=lib/webauthn-sol/src/\"],\"viaIR\":true},\"sources\":{\"packages/diamonds/interfaces/IFacetIntrospection.sol\":{\"keccak256\":\"0x20b90272b83e14e26320d8f062c17cee50fd9531b1cc35d5f763517e717774c3\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://2f09a6a6d80b942188cfbad1b83964d4be5de525bc1c3f8c2df5412718782cb4\",\"dweb:/ipfs/QmbFSp5aBWsuTmZqs7L7dkHrfCVe6kWZuheBo9Cu99Ci6t\"]},\"packages/wallets/src/WalletStorage.sol\":{\"keccak256\":\"0x7a366a0dd164fb24488513535b43ef4c8356e3ab9ce446b2f81f06cba64b3d98\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://39804b55c673a1b988e7bfef32d452c8a3928ae3c02a14ed751ba3adb55c88a4\",\"dweb:/ipfs/QmXVtkGrnW5PNLBg9TvKMBayrRhK1WkQxSkpu8QGdwFBaG\"]},\"packages/wallets/src/facets/WalletPaymasterPolicyFacet.sol\":{\"keccak256\":\"0x916b9a90590c2385af8d3b355d601e8d61c3c1ce05efd98cefbed6481a315dde\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://4e326e442581f3596c1f29f442527c638f99532353270ae6f68360a54ad894ad\",\"dweb:/ipfs/QmfHDzo2ZCVNPvamsKWUtxrvtt7XXfLmgG34Pwq4ZPtowx\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"WalletPaymasterPolicy_AlreadyInitialized"},{"inputs":[],"type":"error","name":"Wallet_BudgetExceeded"},{"inputs":[],"type":"error","name":"Wallet_InvalidPaymasterAddress"},{"inputs":[],"type":"error","name":"Wallet_InvalidRole"},{"inputs":[],"type":"error","name":"Wallet_OnlyPaymaster"},{"inputs":[],"type":"error","name":"Wallet_OperationNotAllowed"},{"inputs":[],"type":"error","name":"Wallet_PaymasterNotEnabled"},{"inputs":[],"type":"error","name":"Wallet_Unauthorized"},{"inputs":[],"type":"error","name":"Wallet_UserLimitExceeded"},{"inputs":[{"internalType":"uint256","name":"budget","type":"uint256","indexed":false}],"type":"event","name":"DailyBudgetSet","anonymous":false},{"inputs":[{"internalType":"uint8","name":"role","type":"uint8","indexed":true},{"internalType":"bytes4","name":"operation","type":"bytes4","indexed":false}],"type":"event","name":"OperationRemoved","anonymous":false},{"inputs":[{"internalType":"uint8","name":"role","type":"uint8","indexed":true},{"internalType":"bytes4","name":"operation","type":"bytes4","indexed":false}],"type":"event","name":"OperationWhitelisted","anonymous":false},{"inputs":[{"internalType":"address","name":"paymaster","type":"address","indexed":true}],"type":"event","name":"PaymasterAddressSet","anonymous":false},{"inputs":[{"internalType":"bool","name":"enabled","type":"bool","indexed":false}],"type":"event","name":"PaymasterEnabled","anonymous":false},{"inputs":[{"internalType":"uint8","name":"role","type":"uint8","indexed":true},{"internalType":"bool","name":"canBeSponsored","type":"bool","indexed":false},{"internalType":"uint256","name":"dailyLimit","type":"uint256","indexed":false}],"type":"event","name":"RolePolicySet","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"SpendingRecorded","anonymous":false},{"inputs":[{"internalType":"address","name":"paymasterAddress_","type":"address"},{"internalType":"uint256","name":"dailyBudget_","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"WalletPaymasterPolicy_init"},{"inputs":[{"internalType":"uint8","name":"role","type":"uint8"},{"internalType":"bytes4","name":"operation","type":"bytes4"}],"stateMutability":"nonpayable","type":"function","name":"addAllowedOperation"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes4","name":"operation","type":"bytes4"}],"stateMutability":"view","type":"function","name":"canSponsorUser","outputs":[{"internalType":"bool","name":"canSponsor","type":"bool"},{"internalType":"string","name":"reason","type":"string"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getPaymasterInfo","outputs":[{"internalType":"bool","name":"enabled","type":"bool"},{"internalType":"uint256","name":"dailyBudget","type":"uint256"},{"internalType":"uint256","name":"spent","type":"uint256"}]},{"inputs":[{"internalType":"uint8","name":"role","type":"uint8"}],"stateMutability":"view","type":"function","name":"getRolePolicy","outputs":[{"internalType":"bool","name":"canBeSponsored","type":"bool"},{"internalType":"uint256","name":"dailyLimit","type":"uint256"},{"internalType":"bytes4[]","name":"allowedOperations","type":"bytes4[]"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"stateMutability":"view","type":"function","name":"getUserSpending","outputs":[{"internalType":"uint256","name":"spent","type":"uint256"},{"internalType":"uint48","name":"lastSpend","type":"uint48"}]},{"inputs":[{"internalType":"uint8","name":"role","type":"uint8"},{"internalType":"bytes4","name":"operation","type":"bytes4"}],"stateMutability":"view","type":"function","name":"isOperationAllowed","outputs":[{"internalType":"bool","name":"allowed","type":"bool"}]},{"inputs":[],"stateMutability":"pure","type":"function","name":"packedSelectors","outputs":[{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"recordSpending"},{"inputs":[{"internalType":"uint8","name":"role","type":"uint8"},{"internalType":"bytes4","name":"operation","type":"bytes4"}],"stateMutability":"nonpayable","type":"function","name":"removeAllowedOperation"},{"inputs":[{"internalType":"uint256","name":"budget","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setDailyBudget"},{"inputs":[{"internalType":"address","name":"paymaster","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setPaymasterAddress"},{"inputs":[{"internalType":"bool","name":"enabled","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setPaymasterEnabled"},{"inputs":[{"internalType":"uint8","name":"role","type":"uint8"},{"internalType":"bool","name":"canBeSponsored","type":"bool"},{"internalType":"uint256","name":"dailyLimit","type":"uint256"},{"internalType":"bytes4[]","name":"allowedOperations","type":"bytes4[]"}],"stateMutability":"nonpayable","type":"function","name":"setRolePolicy"}],"devdoc":{"kind":"dev","methods":{"WalletPaymasterPolicy_init(address,uint256)":{"details":"Called during wallet deployment via MultiInit","params":{"dailyBudget_":"Daily ETH budget in wei (0 = unlimited)","paymasterAddress_":"The CapSign paymaster contract address"}},"addAllowedOperation(uint8,bytes4)":{"params":{"operation":"Function selector to whitelist","role":"Role ID"}},"canSponsorUser(address,bytes4)":{"params":{"operation":"Function selector","user":"User address"},"returns":{"canSponsor":"Whether user can be sponsored","reason":"Reason if cannot sponsor"}},"getPaymasterInfo()":{"returns":{"dailyBudget":"Daily ETH budget","enabled":"Whether paymaster is enabled","spent":"Amount spent today"}},"getRolePolicy(uint8)":{"params":{"role":"Role ID"},"returns":{"allowedOperations":"Whitelisted operations","canBeSponsored":"Whether role can be sponsored","dailyLimit":"Daily ETH limit per user"}},"getUserSpending(address)":{"params":{"user":"User address"},"returns":{"lastSpend":"Timestamp of last spend","spent":"Amount spent today by user"}},"isOperationAllowed(uint8,bytes4)":{"params":{"operation":"Function selector","role":"Role ID"},"returns":{"allowed":"Whether operation is allowed"}},"packedSelectors()":{"details":"Each selector is 4 bytes, packed sequentially with no padding      MUST NOT include packedSelectors() itself in the returned selectors      MUST be a pure function (no state access)","returns":{"_0":"Tightly packed bytes4 selectors"}},"recordSpending(address,uint256)":{"params":{"amount":"Amount spent in ETH (wei)","user":"User whose operation was sponsored"}},"removeAllowedOperation(uint8,bytes4)":{"params":{"operation":"Function selector to remove","role":"Role ID"}},"setDailyBudget(uint256)":{"params":{"budget":"Daily ETH budget in wei"}},"setPaymasterAddress(address)":{"details":"Can be changed by owner (e.g., when paymaster is upgraded)","params":{"paymaster":"Address of the CapSignPaymaster contract"}},"setPaymasterEnabled(bool)":{"params":{"enabled":"Whether to enable paymaster"}},"setRolePolicy(uint8,bool,uint256,bytes4[])":{"params":{"allowedOperations":"Array of function selectors","canBeSponsored":"Whether role can be sponsored","dailyLimit":"Daily ETH limit per user (wei)","role":"Role ID (0-255)"}}},"version":1},"userdoc":{"kind":"user","methods":{"WalletPaymasterPolicy_init(address,uint256)":{"notice":"Initialize paymaster policy with default settings"},"addAllowedOperation(uint8,bytes4)":{"notice":"Add an operation to role's whitelist"},"canSponsorUser(address,bytes4)":{"notice":"Check if user can be sponsored for an operation"},"getPaymasterInfo()":{"notice":"Get paymaster info"},"getRolePolicy(uint8)":{"notice":"Get role policy"},"getUserSpending(address)":{"notice":"Get user spending info"},"isOperationAllowed(uint8,bytes4)":{"notice":"Check if operation is allowed for a role"},"packedSelectors()":{"notice":"Returns all function selectors for this facet as tightly packed bytes"},"recordSpending(address,uint256)":{"notice":"Record spending (called after sponsorship)"},"removeAllowedOperation(uint8,bytes4)":{"notice":"Remove an operation from role's whitelist"},"setDailyBudget(uint256)":{"notice":"Set total daily budget"},"setPaymasterAddress(address)":{"notice":"Set authorized paymaster address"},"setPaymasterEnabled(bool)":{"notice":"Enable or disable paymaster"},"setRolePolicy(uint8,bool,uint256,bytes4[])":{"notice":"Configure sponsorship policy for a role"}},"version":1}},"settings":{"remappings":["@account-abstraction/contracts/=lib/account-abstraction/contracts/","@diamonds/=packages/diamonds/","@ensdomains/=lib/v4-core/node_modules/@ensdomains/","@escrows/=packages/escrows/","@offerings/=packages/offerings/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@paymaster/=packages/paymaster/","@tokens/=packages/tokens/","@uniswap/v4-core/=lib/v4-periphery/lib/v4-core/","@wallets/=packages/wallets/","FreshCryptoLib/=lib/FreshCryptoLib/solidity/src/","account-abstraction/=lib/account-abstraction/contracts/","diamonds-src/=packages/diamonds/src/","diamonds/=packages/diamonds/interfaces/","ds-test/=lib/v4-core/lib/forge-std/lib/ds-test/src/","eas-contracts/=lib/eas-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","escrows-src/=packages/escrows/src/","escrows/=packages/escrows/interfaces/","forge-gas-snapshot/=lib/v4-periphery/lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","hardhat/=lib/v4-core/node_modules/hardhat/","offerings-src/=packages/offerings/src/","offerings/=packages/offerings/interfaces/","openzeppelin-contracts/=lib/openzeppelin-contracts/","paymaster-src/=packages/paymaster/src/","paymaster/=packages/paymaster/interfaces/","permit2/=lib/v4-periphery/lib/permit2/","solady/=lib/solady/src/","solmate/=lib/v4-core/lib/solmate/","tokens-src/=packages/tokens/src/","tokens/=packages/tokens/interfaces/","v4-core/=lib/v4-core/src/","v4-periphery/=lib/v4-periphery/src/","wallets-src/=packages/wallets/src/","wallets/=packages/wallets/interfaces/","webauthn-sol/=lib/webauthn-sol/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"packages/wallets/src/facets/WalletPaymasterPolicyFacet.sol":"WalletPaymasterPolicyFacet"},"evmVersion":"prague","libraries":{},"viaIR":true},"sources":{"packages/diamonds/interfaces/IFacetIntrospection.sol":{"keccak256":"0x20b90272b83e14e26320d8f062c17cee50fd9531b1cc35d5f763517e717774c3","urls":["bzz-raw://2f09a6a6d80b942188cfbad1b83964d4be5de525bc1c3f8c2df5412718782cb4","dweb:/ipfs/QmbFSp5aBWsuTmZqs7L7dkHrfCVe6kWZuheBo9Cu99Ci6t"],"license":"BUSL-1.1"},"packages/wallets/src/WalletStorage.sol":{"keccak256":"0x7a366a0dd164fb24488513535b43ef4c8356e3ab9ce446b2f81f06cba64b3d98","urls":["bzz-raw://39804b55c673a1b988e7bfef32d452c8a3928ae3c02a14ed751ba3adb55c88a4","dweb:/ipfs/QmXVtkGrnW5PNLBg9TvKMBayrRhK1WkQxSkpu8QGdwFBaG"],"license":"BUSL-1.1"},"packages/wallets/src/facets/WalletPaymasterPolicyFacet.sol":{"keccak256":"0x916b9a90590c2385af8d3b355d601e8d61c3c1ce05efd98cefbed6481a315dde","urls":["bzz-raw://4e326e442581f3596c1f29f442527c638f99532353270ae6f68360a54ad894ad","dweb:/ipfs/QmfHDzo2ZCVNPvamsKWUtxrvtt7XXfLmgG34Pwq4ZPtowx"],"license":"BUSL-1.1"}},"version":1},"id":344}
{"abi":[{"type":"function","name":"TokenCorporateActions_init","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"applyStockDividend","inputs":[{"name":"divNum","type":"uint256","internalType":"uint256"},{"name":"divDen","type":"uint256","internalType":"uint256"},{"name":"reducesBasis","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"applyStockSplit","inputs":[{"name":"splitNum","type":"uint256","internalType":"uint256"},{"name":"splitDen","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getCorporateActionStats","inputs":[],"outputs":[{"name":"totalSplits","type":"uint256","internalType":"uint256"},{"name":"totalDividends","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getCumulativeRatios","inputs":[],"outputs":[{"name":"splitNum","type":"uint256","internalType":"uint256"},{"name":"splitDen","type":"uint256","internalType":"uint256"},{"name":"divNum","type":"uint256","internalType":"uint256"},{"name":"divDen","type":"uint256","internalType":"uint256"},{"name":"divCostBasisNum","type":"uint256","internalType":"uint256"},{"name":"divCostBasisDen","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getLastActionInfo","inputs":[],"outputs":[{"name":"lastActionDate","type":"uint256","internalType":"uint256"},{"name":"lastActionReason","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"event","name":"StockDividendApplied","inputs":[{"name":"divNum","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"divDen","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"reducesBasis","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false},{"type":"event","name":"StockSplitApplied","inputs":[{"name":"splitNum","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"splitDen","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"AccessControl_CallerIsNotAuthorized","inputs":[{"name":"caller","type":"address","internalType":"address"},{"name":"functionSig","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"Token_AlreadyInitialized","inputs":[]},{"type":"error","name":"Token_BalanceAdjustmentFailed","inputs":[]},{"type":"error","name":"Token_CostBasisAdjustmentFailed","inputs":[]},{"type":"error","name":"Token_DividendMustIncreaseShares","inputs":[]},{"type":"error","name":"Token_InvalidRatio","inputs":[]},{"type":"error","name":"Token_MaxSupplyExceeded","inputs":[]}],"bytecode":{"object":"0x60808060405234601557611198908161001a8239f35b5f80fdfe60806040526004361015610011575f80fd5b5f358060e01c8063140f19e51461082557806326f50e88146107c35780639809b964146106985780639c053e4314610609578063c78d4bef1461052c5763f3047e651461005c575f80fd5b346105285760403660031901126105285760243590600435906001600160e01b0319166100898133610ed4565b1561051257508015801561050a575b6104fb577fa1bf139cd1fbb7ab220fe2ad0c0725cf27749decebd3021e7171da15395e8fd45480610457575b506020916101236100e3835f5160206110a35f395f51905f5254610d31565b6100fb835f5160206111435f395f51905f5254610d31565b61010f6101088284610f95565b8093610d58565b5f5160206110a35f395f51905f5255610d58565b5f5160206111435f395f51905f525561015c7fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9d54610d76565b7fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9d55427fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9f5561021160056101af84610fa9565b602d866101bb86610fa9565b6040519889946c029ba37b1b59029b83634ba1d1609d1b828701528051918291018587015e840190642d666f722d60d81b84830152805192839101603283015e01015f838201520301601f198101855284610d84565b825167ffffffffffffffff8111610443576102395f5160206110835f395f51905f5254610da6565b601f81116103d4575b506020601f821160011461035957819293945f9261034e575b50508160011b915f199060031b1c1916175f5160206110835f395f51905f52555b5f806040516020810190633bca061760e11b82526102b0816102a2878960248401610dde565b03601f198101835282610d84565b519082305af16102be610ea5565b501561033f575f806040516020810190635663775d60e01b82526102ea816102a2888860248401610dde565b519082305af16102f8610ea5565b5015610330577f533bf83c797d53aba879124c96e89de2a2561c335b985fe8f7fd97ed757663a39160409182519182526020820152a1005b63054692b360e31b5f5260045ffd5b6385b1152560e01b5f5260045ffd5b015190505f8061025b565b601f198216905f5160206110835f395f51905f525f52805f20915f5b8181106103bc575095836001959697106103a4575b505050811b015f5160206110835f395f51905f525561027c565b01515f1960f88460031b161c191690555f808061038a565b9192602060018192868b015181550194019201610375565b5f5160206110835f395f51905f525f527f36c227ee9cd345872b1f9b5be8fa9773e4eb2cf4e3880bd08eb206e38e1b610a601f830160051c81019160208410610439575b601f0160051c01905b81811061042e5750610242565b5f8155600101610421565b9091508190610418565b634e487b7160e01b5f52604160045260245ffd5b6104e1836104dc846104d76104af7fd23e1c200954d4d8dfbb94fac163ee8fc2dd9f8c360d040e972612b831c31b36547fd23e1c200954d4d8dfbb94fac163ee8fc2dd9f8c360d040e972612b831c31b315490610d31565b7fd23e1c200954d4d8dfbb94fac163ee8fc2dd9f8c360d040e972612b831c31b325490610d58565b610d31565b610d58565b116104ec575f6100c4565b634e18fd2160e01b5f5260045ffd5b6315c402e160e11b5f5260045ffd5b508115610098565b631d64bc3360e11b5f523360045260245260445ffd5b5f80fd5b34610528575f366003190112610528577fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e965460ff81166105fa5760019060ff1916177fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e965560015f5160206110a35f395f51905f525560015f5160206111435f395f51905f525560015f5160206110e35f395f51905f525560015f5160206110c35f395f51905f525560015f5160206111235f395f51905f525560015f5160206111035f395f51905f52555f80f35b6393e721db60e01b5f5260045ffd5b34610528575f3660031901126105285760c05f5160206110a35f395f51905f52545f5160206111435f395f51905f52545f5160206110e35f395f51905f52545f5160206110c35f395f51905f52545f5160206111235f395f51905f5254915f5160206111035f395f51905f525493604051958652602086015260408501526060840152608083015260a0820152f35b34610528575f366003190112610528577fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9f546040515f915f5160206110835f395f51905f52546106e781610da6565b8084526020840191600181169081156107a85750600114610744575b5061071383606094950385610d84565b6040519384928352604060208401525180918160408501528484015e5f828201840152601f01601f19168101030190f35b5f5160206110835f395f51905f525f9081529094507f36c227ee9cd345872b1f9b5be8fa9773e4eb2cf4e3880bd08eb206e38e1b610a5b858210610792575083016020019350610713610703565b600181602092548385890101520191019061077b565b60ff1916835250151560051b83016020019350610713610703565b34610528575f3660031901126105285760407fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9d547fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9e5482519182526020820152f35b50346105285760603660031901126105285760043560243560443580151593848203610528576001600160e01b03191661085f8133610ed4565b15610512575082158015610d29575b6104fb57818310610d1a577fa1bf139cd1fbb7ab220fe2ad0c0725cf27749decebd3021e7171da15395e8fd45480610cb7575b506108fd6108bd845f5160206110e35f395f51905f5254610d31565b826108d6855f5160206110c35f395f51905f5254610d31565b90610c64575b6108e96101088284610f95565b5f5160206110e35f395f51905f5255610d58565b5f5160206110c35f395f51905f525561094e5f5160206111235f395f51905f52545f5160206111035f395f51905f525461093a6101088284610f95565b5f5160206111235f395f51905f5255610d58565b5f5160206111035f395f51905f52556109877fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9e54610d76565b7fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9e55427fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9f556020610a3d60016109dc86610fa9565b6030846109e888610fa9565b6040519687946f029ba37b1b5902234bb34b232b7321d160851b828701528051918291018587015e840190602f60f81b84830152805192839101603183015e01015f838201520301601f198101835282610d84565b80519067ffffffffffffffff8211610443578190610a685f5160206110835f395f51905f5254610da6565b601f8111610bea575b50602090601f8311600114610b6c575f92610b61575b50508160011b915f199060031b1c1916175f5160206110835f395f51905f52555b5f806040516020810190633bca061760e11b8252610ace816102a2888a60248401610dde565b519082305af1610adc610ea5565b501561033f57610b20575b907fecc78d6ce272d0fc4f4e7fb0f45d75e85ef62de13797c6dac3cd0098784f110f9260609260405192835260208301526040820152a1005b905f806040516020810190635663775d60e01b8252610b47816102a2878960248401610dde565b519082305af1610b55610ea5565b50156103305790610ae7565b015190505f80610a87565b5f5160206110835f395f51905f525f9081528281209350601f198516905b818110610bd25750908460019594939210610bba575b505050811b015f5160206110835f395f51905f5255610aa8565b01515f1960f88460031b161c191690555f8080610ba0565b92936020600181928786015181550195019301610b8a565b5f5160206110835f395f51905f525f529091507f36c227ee9cd345872b1f9b5be8fa9773e4eb2cf4e3880bd08eb206e38e1b610a601f840160051c81019160208510610c5a575b90601f859493920160051c01905b818110610c4c5750610a71565b5f8155849350600101610c3f565b9091508190610c31565b610c7c855f5160206111235f395f51905f5254610d31565b5f5160206111235f395f51905f5255610ca3865f5160206111035f395f51905f5254610d31565b5f5160206111035f395f51905f52556108dc565b610d0f836104dc866104d76104af7fd23e1c200954d4d8dfbb94fac163ee8fc2dd9f8c360d040e972612b831c31b36547fd23e1c200954d4d8dfbb94fac163ee8fc2dd9f8c360d040e972612b831c31b315490610d31565b116104ec575f6108a1565b6315e93c2960e01b5f5260045ffd5b50811561086e565b81810292918115918404141715610d4457565b634e487b7160e01b5f52601160045260245ffd5b8115610d62570490565b634e487b7160e01b5f52601260045260245ffd5b5f198114610d445760010190565b90601f8019910116810190811067ffffffffffffffff82111761044357604052565b90600182811c92168015610dd4575b6020831014610dc057565b634e487b7160e01b5f52602260045260245ffd5b91607f1691610db5565b909160609282526020820152816040820152015f5160206110835f395f51905f525f91815491610e0d83610da6565b8083529260018116908115610e685750600114610e2b575b50505090565b5f90815260208120929350915b838310610e4e57506020925001015f8080610e25565b600181602092949394548385870101520191019190610e38565b9150506020935060ff929192191683830152151560051b01015f8080610e25565b67ffffffffffffffff811161044357601f01601f191660200190565b3d15610ecf573d90610eb682610e89565b91610ec46040519384610d84565b82523d5f602084013e565b606090565b6001600160a01b03165f8181527f35edad4c931e57ec40cedc90b9e3e052832d1b49c07eb789b019aea9b39c91d960209081526040808320546001600160e01b031990951683527f35edad4c931e57ec40cedc90b9e3e052832d1b49c07eb789b019aea9b39c91da909152902054908115610f8d575f527f35edad4c931e57ec40cedc90b9e3e052832d1b49c07eb789b019aea9b39c91d9602052600160405f2054161591821592610f8557505090565b161515919050565b505050600190565b905b8015610fa557809106610f97565b5090565b8015611062575f81805b61104e5750610fc181610e89565b90610fcf6040519283610d84565b808252601f19610fde82610e89565b013660208401375b80928015611047575f198201918211610d44578193600a82066030019283603011610d44578451111561103357600a9260f81b6001600160f81b0319165f1a908401601f01530491610fe6565b634e487b7160e01b5f52603260045260245ffd5b5050905090565b9061105a600a91610d76565b910480610fb3565b50604051611071604082610d84565b60018152600360fc1b60208201529056fee50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696ea0e50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e97e50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9ae50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e99e50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9ce50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9be50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e98a264697066735822122040e4993a330b202a43b8e263ad234cec8a83090c69233edf5edc47da65338ca564736f6c634300081e0033","sourceMap":"897:9621:93:-:0;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x60806040526004361015610011575f80fd5b5f358060e01c8063140f19e51461082557806326f50e88146107c35780639809b964146106985780639c053e4314610609578063c78d4bef1461052c5763f3047e651461005c575f80fd5b346105285760403660031901126105285760243590600435906001600160e01b0319166100898133610ed4565b1561051257508015801561050a575b6104fb577fa1bf139cd1fbb7ab220fe2ad0c0725cf27749decebd3021e7171da15395e8fd45480610457575b506020916101236100e3835f5160206110a35f395f51905f5254610d31565b6100fb835f5160206111435f395f51905f5254610d31565b61010f6101088284610f95565b8093610d58565b5f5160206110a35f395f51905f5255610d58565b5f5160206111435f395f51905f525561015c7fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9d54610d76565b7fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9d55427fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9f5561021160056101af84610fa9565b602d866101bb86610fa9565b6040519889946c029ba37b1b59029b83634ba1d1609d1b828701528051918291018587015e840190642d666f722d60d81b84830152805192839101603283015e01015f838201520301601f198101855284610d84565b825167ffffffffffffffff8111610443576102395f5160206110835f395f51905f5254610da6565b601f81116103d4575b506020601f821160011461035957819293945f9261034e575b50508160011b915f199060031b1c1916175f5160206110835f395f51905f52555b5f806040516020810190633bca061760e11b82526102b0816102a2878960248401610dde565b03601f198101835282610d84565b519082305af16102be610ea5565b501561033f575f806040516020810190635663775d60e01b82526102ea816102a2888860248401610dde565b519082305af16102f8610ea5565b5015610330577f533bf83c797d53aba879124c96e89de2a2561c335b985fe8f7fd97ed757663a39160409182519182526020820152a1005b63054692b360e31b5f5260045ffd5b6385b1152560e01b5f5260045ffd5b015190505f8061025b565b601f198216905f5160206110835f395f51905f525f52805f20915f5b8181106103bc575095836001959697106103a4575b505050811b015f5160206110835f395f51905f525561027c565b01515f1960f88460031b161c191690555f808061038a565b9192602060018192868b015181550194019201610375565b5f5160206110835f395f51905f525f527f36c227ee9cd345872b1f9b5be8fa9773e4eb2cf4e3880bd08eb206e38e1b610a601f830160051c81019160208410610439575b601f0160051c01905b81811061042e5750610242565b5f8155600101610421565b9091508190610418565b634e487b7160e01b5f52604160045260245ffd5b6104e1836104dc846104d76104af7fd23e1c200954d4d8dfbb94fac163ee8fc2dd9f8c360d040e972612b831c31b36547fd23e1c200954d4d8dfbb94fac163ee8fc2dd9f8c360d040e972612b831c31b315490610d31565b7fd23e1c200954d4d8dfbb94fac163ee8fc2dd9f8c360d040e972612b831c31b325490610d58565b610d31565b610d58565b116104ec575f6100c4565b634e18fd2160e01b5f5260045ffd5b6315c402e160e11b5f5260045ffd5b508115610098565b631d64bc3360e11b5f523360045260245260445ffd5b5f80fd5b34610528575f366003190112610528577fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e965460ff81166105fa5760019060ff1916177fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e965560015f5160206110a35f395f51905f525560015f5160206111435f395f51905f525560015f5160206110e35f395f51905f525560015f5160206110c35f395f51905f525560015f5160206111235f395f51905f525560015f5160206111035f395f51905f52555f80f35b6393e721db60e01b5f5260045ffd5b34610528575f3660031901126105285760c05f5160206110a35f395f51905f52545f5160206111435f395f51905f52545f5160206110e35f395f51905f52545f5160206110c35f395f51905f52545f5160206111235f395f51905f5254915f5160206111035f395f51905f525493604051958652602086015260408501526060840152608083015260a0820152f35b34610528575f366003190112610528577fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9f546040515f915f5160206110835f395f51905f52546106e781610da6565b8084526020840191600181169081156107a85750600114610744575b5061071383606094950385610d84565b6040519384928352604060208401525180918160408501528484015e5f828201840152601f01601f19168101030190f35b5f5160206110835f395f51905f525f9081529094507f36c227ee9cd345872b1f9b5be8fa9773e4eb2cf4e3880bd08eb206e38e1b610a5b858210610792575083016020019350610713610703565b600181602092548385890101520191019061077b565b60ff1916835250151560051b83016020019350610713610703565b34610528575f3660031901126105285760407fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9d547fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9e5482519182526020820152f35b50346105285760603660031901126105285760043560243560443580151593848203610528576001600160e01b03191661085f8133610ed4565b15610512575082158015610d29575b6104fb57818310610d1a577fa1bf139cd1fbb7ab220fe2ad0c0725cf27749decebd3021e7171da15395e8fd45480610cb7575b506108fd6108bd845f5160206110e35f395f51905f5254610d31565b826108d6855f5160206110c35f395f51905f5254610d31565b90610c64575b6108e96101088284610f95565b5f5160206110e35f395f51905f5255610d58565b5f5160206110c35f395f51905f525561094e5f5160206111235f395f51905f52545f5160206111035f395f51905f525461093a6101088284610f95565b5f5160206111235f395f51905f5255610d58565b5f5160206111035f395f51905f52556109877fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9e54610d76565b7fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9e55427fe50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9f556020610a3d60016109dc86610fa9565b6030846109e888610fa9565b6040519687946f029ba37b1b5902234bb34b232b7321d160851b828701528051918291018587015e840190602f60f81b84830152805192839101603183015e01015f838201520301601f198101835282610d84565b80519067ffffffffffffffff8211610443578190610a685f5160206110835f395f51905f5254610da6565b601f8111610bea575b50602090601f8311600114610b6c575f92610b61575b50508160011b915f199060031b1c1916175f5160206110835f395f51905f52555b5f806040516020810190633bca061760e11b8252610ace816102a2888a60248401610dde565b519082305af1610adc610ea5565b501561033f57610b20575b907fecc78d6ce272d0fc4f4e7fb0f45d75e85ef62de13797c6dac3cd0098784f110f9260609260405192835260208301526040820152a1005b905f806040516020810190635663775d60e01b8252610b47816102a2878960248401610dde565b519082305af1610b55610ea5565b50156103305790610ae7565b015190505f80610a87565b5f5160206110835f395f51905f525f9081528281209350601f198516905b818110610bd25750908460019594939210610bba575b505050811b015f5160206110835f395f51905f5255610aa8565b01515f1960f88460031b161c191690555f8080610ba0565b92936020600181928786015181550195019301610b8a565b5f5160206110835f395f51905f525f529091507f36c227ee9cd345872b1f9b5be8fa9773e4eb2cf4e3880bd08eb206e38e1b610a601f840160051c81019160208510610c5a575b90601f859493920160051c01905b818110610c4c5750610a71565b5f8155849350600101610c3f565b9091508190610c31565b610c7c855f5160206111235f395f51905f5254610d31565b5f5160206111235f395f51905f5255610ca3865f5160206111035f395f51905f5254610d31565b5f5160206111035f395f51905f52556108dc565b610d0f836104dc866104d76104af7fd23e1c200954d4d8dfbb94fac163ee8fc2dd9f8c360d040e972612b831c31b36547fd23e1c200954d4d8dfbb94fac163ee8fc2dd9f8c360d040e972612b831c31b315490610d31565b116104ec575f6108a1565b6315e93c2960e01b5f5260045ffd5b50811561086e565b81810292918115918404141715610d4457565b634e487b7160e01b5f52601160045260245ffd5b8115610d62570490565b634e487b7160e01b5f52601260045260245ffd5b5f198114610d445760010190565b90601f8019910116810190811067ffffffffffffffff82111761044357604052565b90600182811c92168015610dd4575b6020831014610dc057565b634e487b7160e01b5f52602260045260245ffd5b91607f1691610db5565b909160609282526020820152816040820152015f5160206110835f395f51905f525f91815491610e0d83610da6565b8083529260018116908115610e685750600114610e2b575b50505090565b5f90815260208120929350915b838310610e4e57506020925001015f8080610e25565b600181602092949394548385870101520191019190610e38565b9150506020935060ff929192191683830152151560051b01015f8080610e25565b67ffffffffffffffff811161044357601f01601f191660200190565b3d15610ecf573d90610eb682610e89565b91610ec46040519384610d84565b82523d5f602084013e565b606090565b6001600160a01b03165f8181527f35edad4c931e57ec40cedc90b9e3e052832d1b49c07eb789b019aea9b39c91d960209081526040808320546001600160e01b031990951683527f35edad4c931e57ec40cedc90b9e3e052832d1b49c07eb789b019aea9b39c91da909152902054908115610f8d575f527f35edad4c931e57ec40cedc90b9e3e052832d1b49c07eb789b019aea9b39c91d9602052600160405f2054161591821592610f8557505090565b161515919050565b505050600190565b905b8015610fa557809106610f97565b5090565b8015611062575f81805b61104e5750610fc181610e89565b90610fcf6040519283610d84565b808252601f19610fde82610e89565b013660208401375b80928015611047575f198201918211610d44578193600a82066030019283603011610d44578451111561103357600a9260f81b6001600160f81b0319165f1a908401601f01530491610fe6565b634e487b7160e01b5f52603260045260245ffd5b5050905090565b9061105a600a91610d76565b910480610fb3565b50604051611071604082610d84565b60018152600360fc1b60208201529056fee50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696ea0e50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e97e50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9ae50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e99e50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9ce50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e9be50a9a29f7518e5acce66ac079da49e4502ebbb06d368fb73c26da28ad696e98a264697066735822122040e4993a330b202a43b8e263ad234cec8a83090c69233edf5edc47da65338ca564736f6c634300081e0033","sourceMap":"897:9621:93:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;897:9621:93;;;;;;;;;;-1:-1:-1;;;;;;1406:7:36;1385:29;1406:7;1394:10;1385:29;:::i;:::-;1384:30;1380:139;;2237:13:93;;;:30;;;;897:9621;2233:70;;2529:15;897:9621;2529:19;2525:434;;897:9621;;;;3242:17;3047:21;897:9621;-1:-1:-1;;;;;;;;;;;897:9621:93;3047:21;:::i;:::-;3091;897:9621;-1:-1:-1;;;;;;;;;;;897:9621:93;3091:21;:::i;:::-;3215:17;3177:28;;;;:::i;:::-;3215:17;;;:::i;:::-;-1:-1:-1;;;;;;;;;;;897:9621:93;3242:17;:::i;:::-;-1:-1:-1;;;;;;;;;;;897:9621:93;3270:15;:13;897:9621;3270:15;:::i;:::-;:13;897:9621;3314:15;3295:16;897:9621;3379:84;897:9621;3413:19;;;:::i;:::-;897:9621;3443:19;;;;:::i;:::-;897:9621;;3379:84;;;-1:-1:-1;;;3379:84:93;;;897:9621;;;;;;;;;;;;;;-1:-1:-1;;;897:9621:93;;;;;;;;;;;;;;;;;;;;;3379:84;;6526:79;;3379:84;;;;;;:::i;:::-;897:9621;;;;;;;;-1:-1:-1;;;;;;;;;;;897:9621:93;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2529:15;897:9621;;;;;-1:-1:-1;;;;;;;;;;;897:9621:93;;;;;;;3596:151;;6738:147;;;;3596:151;;;;;;;897:9621;3596:151;;;:::i;:::-;;6526:79;;3596:151;;;;;;:::i;:::-;3547:214;3555:4;;;3547:214;;;;:::i;:::-;;3775:8;3771:59;;897:9621;;;;;3978:153;;7130:157;;;;3978:153;;;;;;;897:9621;3978:153;;;:::i;:::-;3929:216;3555:4;;;3929:216;;;;:::i;:::-;;4159:8;4155:61;;4232:44;897:9621;;;;;;;;;;;;4232:44;897:9621;4155:61;7340:40;;;897:9621;4176:40;897:9621;;4176:40;3771:59;6930:38;;;897:9621;3792:38;897:9621;;3792:38;897:9621;;;;-1:-1:-1;897:9621:93;;;;;6526:79;;897:9621;;;-1:-1:-1;;;;;;;;;;;897:9621:93;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;;;;;;897:9621:93;;;;;;;;;;2529:15;897:9621;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;;;;;;897:9621:93;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;897:9621:93;;;;;;;;;;;;;;;;2525:434;2817:41;897:9621;2818:28;897:9621;2687:92;2688:55;:20;897:9621;1284:43:86;897:9621:93;2688:55;;:::i;:::-;2747:32;897:9621;2687:92;;:::i;:::-;2818:28;:::i;:::-;2817:41;:::i;:::-;2876:31;2872:76;;2525:434;;;2872:76;5761:32;;;897:9621;2916:32;897:9621;;2916:32;2233:70;5046:27;;;897:9621;2276:27;897:9621;;2276:27;2237:30;2254:13;;;2237:30;;1380:139:36;1437:71;;;897:9621:93;1437:71:36;1394:10;897:9621:93;;;;;;1437:71:36;897:9621:93;;;;;;;;;;-1:-1:-1;;897:9621:93;;;;5811:52:86;897:9621:93;;;;1290:59;;1431:4;897:9621;;;;;5811:52:86;897:9621:93;1431:4;-1:-1:-1;;;;;;;;;;;897:9621:93;1431:4;-1:-1:-1;;;;;;;;;;;897:9621:93;1431:4;-1:-1:-1;;;;;;;;;;;897:9621:93;1431:4;-1:-1:-1;;;;;;;;;;;897:9621:93;1431:4;-1:-1:-1;;;;;;;;;;;897:9621:93;1431:4;-1:-1:-1;;;;;;;;;;;897:9621:93;;;;1290:59;1316:33;;;897:9621;1316:33;897:9621;;1316:33;897:9621;;;;;;-1:-1:-1;;897:9621:93;;;;;-1:-1:-1;;;;;;;;;;;897:9621:93;-1:-1:-1;;;;;;;;;;;897:9621:93;-1:-1:-1;;;;;;;;;;;897:9621:93;-1:-1:-1;;;;;;;;;;;897:9621:93;-1:-1:-1;;;;;;;;;;;897:9621:93;;-1:-1:-1;;;;;;;;;;;897:9621:93;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;897:9621:93;;;;9189:16;897:9621;;;;;-1:-1:-1;;;;;;;;;;;897:9621:93;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;897:9621:93;;;;;;;;-1:-1:-1;;;;;;;;;;;897:9621:93;;;;;;-1:-1:-1;897:9621:93;;;;;;;-1:-1:-1;897:9621:93;;;;;-1:-1:-1;897:9621:93;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;897:9621:93;;;-1:-1:-1;897:9621:93;;;;;;;;;-1:-1:-1;897:9621:93;;;;;;;;;-1:-1:-1;;897:9621:93;;;;;8765:13;897:9621;8780:16;897:9621;;;;;;;;;;;;;;;;;;-1:-1:-1;;897:9621:93;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;1406:7:36;1385:29;1406:7;1394:10;1385:29;:::i;:::-;1384:30;1380:139;;5011:11:93;;;:26;;;;897:9621;5007:66;;5087:15;;;5083:69;;5378:15;897:9621;5378:19;5374:430;;897:9621;;6261:16;5893:17;897:9621;-1:-1:-1;;;;;;;;;;;897:9621:93;5893:17;:::i;:::-;897:9621;5931:17;897:9621;-1:-1:-1;;;;;;;;;;;897:9621:93;5931:17;:::i;:::-;5997:149;;;897:9621;6235:16;6201:24;;;;:::i;6235:16::-;-1:-1:-1;;;;;;;;;;;897:9621:93;6261:16;:::i;:::-;-1:-1:-1;;;;;;;;;;;897:9621:93;6390:25;-1:-1:-1;;;;;;;;;;;897:9621:93;-1:-1:-1;;;;;;;;;;;897:9621:93;6355:25;6303:42;;;;:::i;6355:25::-;-1:-1:-1;;;;;;;;;;;897:9621:93;6390:25;:::i;:::-;-1:-1:-1;;;;;;;;;;;897:9621:93;6426:18;:16;897:9621;6426:18;:::i;:::-;:16;897:9621;6473:15;6454:16;897:9621;;6526:79;897:9621;6563:17;;;:::i;:::-;897:9621;6587:17;;;;:::i;:::-;897:9621;;6526:79;;;-1:-1:-1;;;6526:79:93;;;897:9621;;;;;;;;;;;;;;-1:-1:-1;;;897:9621:93;;;;;;;;;;;;;;;;;;;;;6526:79;;;;;;;;;;:::i;:::-;897:9621;;;;;;;;;;;-1:-1:-1;;;;;;;;;;;897:9621:93;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5378:15;897:9621;;;;;-1:-1:-1;;;;;;;;;;;897:9621:93;;;;;;;6738:147;;;;;;;;;;;;;897:9621;6738:147;;;:::i;:::-;6689:210;6697:4;;;6689:210;;;;:::i;:::-;;6913:8;6909:59;;7028:363;;897:9621;;7406:57;897:9621;;;;;;;;;;;;;;;;7406:57;897:9621;7028:363;897:9621;;;;;;7130:157;;;;;;;;;;;;;897:9621;7130:157;;;:::i;:::-;7073:232;6697:4;;;7073:232;;;;:::i;:::-;;7323:8;7319:61;;7028:363;;;897:9621;;;;-1:-1:-1;897:9621:93;;;;;-1:-1:-1;;;;;;;;;;;897:9621:93;;;;;;;;-1:-1:-1;;;897:9621:93;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;;;;;;897:9621:93;;;;;;;;;;5378:15;897:9621;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;;;;;;897:9621:93;;;;-1:-1:-1;897:9621:93;;;;6308:17;897:9621;;;;;;;;;;;;;;;;;6308:17;897:9621;;;;;;;;;;;;;;;;;;-1:-1:-1;897:9621:93;;;;;;;-1:-1:-1;897:9621:93;;;;5997:149;6049:26;897:9621;-1:-1:-1;;;;;;;;;;;897:9621:93;6049:26;:::i;:::-;-1:-1:-1;;;;;;;;;;;897:9621:93;6109:26;897:9621;-1:-1:-1;;;;;;;;;;;897:9621:93;6109:26;:::i;:::-;-1:-1:-1;;;;;;;;;;;897:9621:93;5997:149;;5374:430;5666:37;897:9621;5667:26;897:9621;5536:92;5537:55;:20;897:9621;1284:43:86;897:9621:93;5537:55;;:::i;5666:37::-;5721:31;5717:76;;5374:430;;;5083:69;5111:41;;;897:9621;5111:41;897:9621;;5111:41;5011:26;5026:11;;;5011:26;;897:9621;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;-1:-1:-1;;897:9621:93;;;;;;;:::o;:::-;;;6526:79;;897:9621;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;;;;;;;897:9621:93;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;-1:-1:-1;897:9621:93;;;;;;;;-1:-1:-1;;897:9621:93;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;897:9621:93;;;;:::o;:::-;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;-1:-1:-1;897:9621:93;;;;:::o;:::-;;;:::o;3806:615:36:-;-1:-1:-1;;;;;897:9621:93;;;;;869:43:36;897:9621:93;;;;;;;;;-1:-1:-1;;;;;;897:9621:93;;;;;4066:15:36;897:9621:93;;;;;;;4162:31:36;;4158:73;;897:9621:93;;869:43:36;897:9621:93;;4066:15:36;897:9621:93;;;;4780:47:36;:61;;;;4327:87;;;4320:94;;3806:615;:::o;4327:87::-;4366:33;:47;;;3806:615;-1:-1:-1;3806:615:36:o;4158:73::-;4209:11;;;4066:15;4209:11;:::o;9479:225:93:-;;9579:101;9586:6;;;;9608:16;9642:5;897:9621;9579:101;;9586:6;;9479:225;:::o;9849:667::-;9949:10;;9945:51;;9958:1;10005:20;;10066:9;;;897:9621;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;-1:-1:-1;;897:9621:93;;;:::i;:::-;;;;;;;10192:287;10199:10;;;;;;-1:-1:-1;;897:9621:93;;;;;;;10225:11;897:9621;10121:2;897:9621;;10417:2;897:9621;;;10417:2;897:9621;;;;;-1:-1:-1;897:9621:93;;;10121:2;;897:9621;;-1:-1:-1;;;;;;897:9621:93;9958:1;10387:56;;897:9621;;;;10387:56;897:9621;10192:287;;;897:9621;;;;9958:1;897:9621;;;;;9958:1;897:9621;10199:10;;;;;9849:667;:::o;10059:75::-;10091:8;;10121:2;10091:8;;:::i;:::-;897:9621;;10059:75;;;9945:51;897:9621;;;;;;;:::i;:::-;;;;-1:-1:-1;;;897:9621:93;;;;9975:10;:::o","linkReferences":{}},"methodIdentifiers":{"TokenCorporateActions_init()":"c78d4bef","applyStockDividend(uint256,uint256,bool)":"140f19e5","applyStockSplit(uint256,uint256)":"f3047e65","getCorporateActionStats()":"26f50e88","getCumulativeRatios()":"9c053e43","getLastActionInfo()":"9809b964"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"},{\"internalType\":\"bytes4\",\"name\":\"functionSig\",\"type\":\"bytes4\"}],\"name\":\"AccessControl_CallerIsNotAuthorized\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Token_AlreadyInitialized\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Token_BalanceAdjustmentFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Token_CostBasisAdjustmentFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Token_DividendMustIncreaseShares\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Token_InvalidRatio\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Token_MaxSupplyExceeded\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"divNum\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"divDen\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"reducesBasis\",\"type\":\"bool\"}],\"name\":\"StockDividendApplied\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"splitNum\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"splitDen\",\"type\":\"uint256\"}],\"name\":\"StockSplitApplied\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"TokenCorporateActions_init\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"divNum\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"divDen\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"reducesBasis\",\"type\":\"bool\"}],\"name\":\"applyStockDividend\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"splitNum\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"splitDen\",\"type\":\"uint256\"}],\"name\":\"applyStockSplit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCorporateActionStats\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"totalSplits\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalDividends\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCumulativeRatios\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"splitNum\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"splitDen\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"divNum\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"divDen\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"divCostBasisNum\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"divCostBasisDen\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getLastActionInfo\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"lastActionDate\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"lastActionReason\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"CapSign Inc.\",\"details\":\"Tracks cumulative ratios and applies adjustments via TokenBalancesFacet      This facet coordinates with TokenBalancesFacet to apply corporate actions:      - Tracks split/dividend ratios for historical record      - Calls TokenBalancesFacet.applyBalanceAdjustment() to update displayed balances      - Maintains cost basis adjustments for tax reporting      Used by share class tokens (common stock, preferred stock, etc.)\",\"errors\":{\"AccessControl_CallerIsNotAuthorized(address,bytes4)\":[{\"params\":{\"caller\":\"Address attempting the call\",\"functionSig\":\"Function selector that was called\"}}]},\"events\":{\"StockDividendApplied(uint256,uint256,bool)\":{\"params\":{\"divDen\":\"Dividend denominator\",\"divNum\":\"Dividend numerator\",\"reducesBasis\":\"Whether cost basis is reduced\"}},\"StockSplitApplied(uint256,uint256)\":{\"params\":{\"splitDen\":\"Split denominator\",\"splitNum\":\"Split numerator\"}}},\"kind\":\"dev\",\"methods\":{\"applyStockDividend(uint256,uint256,bool)\":{\"details\":\"Example: 10% stock dividend = divNum: 110, divDen: 100      If reducesBasis = true: Taxable dividend, total cost basis unchanged      If reducesBasis = false: Non-taxable dividend, proportional cost basis increase\",\"params\":{\"divDen\":\"Denominator of the dividend ratio\",\"divNum\":\"Numerator of the dividend ratio\",\"reducesBasis\":\"Whether this dividend reduces per-share cost basis\"}},\"applyStockSplit(uint256,uint256)\":{\"details\":\"Example: 2-for-1 split = splitNum: 2, splitDen: 1      This:      1. Updates corporate action tracking ratios      2. Applies balance adjustment via TokenBalancesFacet      3. Applies inverse cost basis adjustment (per-share basis decreases)\",\"params\":{\"splitDen\":\"Denominator of the split ratio\",\"splitNum\":\"Numerator of the split ratio\"}},\"getCorporateActionStats()\":{\"returns\":{\"totalDividends\":\"Total number of dividends applied\",\"totalSplits\":\"Total number of splits applied\"}},\"getCumulativeRatios()\":{\"returns\":{\"divCostBasisDen\":\"Dividend cost basis denominator\",\"divCostBasisNum\":\"Dividend cost basis numerator\",\"divDen\":\"Dividend denominator\",\"divNum\":\"Dividend numerator\",\"splitDen\":\"Split denominator\",\"splitNum\":\"Split numerator\"}},\"getLastActionInfo()\":{\"returns\":{\"lastActionDate\":\"Timestamp of last action\",\"lastActionReason\":\"Description of last action\"}}},\"title\":\"TokenCorporateActionsFacet\",\"version\":1},\"userdoc\":{\"errors\":{\"AccessControl_CallerIsNotAuthorized(address,bytes4)\":[{\"notice\":\"Thrown when caller lacks required permissions\"}],\"Token_AlreadyInitialized()\":[{\"notice\":\"Thrown when token is already initialized\"}],\"Token_BalanceAdjustmentFailed()\":[{\"notice\":\"Thrown when balance adjustment fails during corporate action\"}],\"Token_CostBasisAdjustmentFailed()\":[{\"notice\":\"Thrown when cost basis adjustment fails during corporate action\"}],\"Token_DividendMustIncreaseShares()\":[{\"notice\":\"Thrown when dividend doesn't increase shares\"}],\"Token_InvalidRatio()\":[{\"notice\":\"Thrown when invalid ratio provided\"}],\"Token_MaxSupplyExceeded()\":[{\"notice\":\"Thrown when max supply would be exceeded\"}]},\"events\":{\"StockDividendApplied(uint256,uint256,bool)\":{\"notice\":\"Emitted when stock dividend is applied\"},\"StockSplitApplied(uint256,uint256)\":{\"notice\":\"Emitted when stock split is applied\"}},\"kind\":\"user\",\"methods\":{\"TokenCorporateActions_init()\":{\"notice\":\"Initialize the TokenCorporateActionsFacet\"},\"applyStockDividend(uint256,uint256,bool)\":{\"notice\":\"Apply a stock dividend\"},\"applyStockSplit(uint256,uint256)\":{\"notice\":\"Apply a stock split to all outstanding shares\"},\"getCorporateActionStats()\":{\"notice\":\"Get corporate action statistics\"},\"getCumulativeRatios()\":{\"notice\":\"Get all cumulative ratios for historical tracking\"},\"getLastActionInfo()\":{\"notice\":\"Get last action details\"}},\"notice\":\"Handles stock splits and stock dividends for equity tokens\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"packages/tokens/src/facets/TokenCorporateActionsFacet.sol\":\"TokenCorporateActionsFacet\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@diamonds/=packages/diamonds/\",\":@offerings/=packages/offerings/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@tokens/=packages/tokens/\",\":@vehicles/=packages/vehicles/\",\":@wallets/=packages/wallets/\",\":FreshCryptoLib/=lib/FreshCryptoLib/solidity/src/\",\":diamonds-src/=packages/diamonds/src/\",\":diamonds/=packages/diamonds/interfaces/\",\":ds-test/=lib/webauthn-sol/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":offerings-src/=packages/offerings/src/\",\":offerings/=packages/offerings/interfaces/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":solady/=lib/solady/src/\",\":tokens-src/=packages/tokens/src/\",\":tokens/=packages/tokens/interfaces/\",\":vehicles-src/=packages/vehicles/src/\",\":vehicles/=packages/vehicles/interfaces/\",\":wallets-src/=packages/wallets/src/\",\":wallets/=packages/wallets/interfaces/\",\":webauthn-sol/=lib/webauthn-sol/src/\"],\"viaIR\":true},\"sources\":{\"packages/diamonds/interfaces/IAccessControl.sol\":{\"keccak256\":\"0xde8f46c25fc2b888e6820ab983d9a7c505b4eec58d37b8bee1fbde97eaf64ad8\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://da80880d27fb8a58220fa085bfd73e67ea28d8efd48a469b6ed0b906e72c18cf\",\"dweb:/ipfs/QmWahEfboJf8AsTKJt3tEpKtLJFGkcdDCqENrStGUbERKT\"]},\"packages/diamonds/src/AccessControl.sol\":{\"keccak256\":\"0x49cd20c1f0a0b905b5f58146c4db49a778974bf2ff159c1f2deb2c479074f811\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://79ea82ea48606d4336c8313ab34e48e834ad5300f2bf37db91d83fb216f35062\",\"dweb:/ipfs/QmRLrVL41eHHYhF7hq553n56VYfNx469rx17B78HsemhG8\"]},\"packages/tokens/interfaces/token/IToken.sol\":{\"keccak256\":\"0x9358c120251d97fc8d1f1e922e8f88d6ad960bace279a33470e92773a9545363\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://1ef539a6eb939f2fd93fc64a9849377cc5720c2a5a0be12fa360b6f3e66522f0\",\"dweb:/ipfs/QmRDBXCWFWpksmjPoJKPDGZrYAYWXppGpohPFS9PBtqVuj\"]},\"packages/tokens/src/TokenStorage.sol\":{\"keccak256\":\"0x1dc6fd85d112472867fa365b7d57cd8fd58b7a0142e665d1df0a83d0709d531d\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://791f35d9bfb8798ab007c66f5405b8ec7d976e27d326e40db0472a08e2a93d7b\",\"dweb:/ipfs/QmVb5uWLiGGDSGv7sauJ1QGhixzXQfHJpbmwuYCrB72pzm\"]},\"packages/tokens/src/facets/TokenCorporateActionsFacet.sol\":{\"keccak256\":\"0xc0374997588d0d110fa49c501f62b9b8a0814d6f3a31fb3cb0315731242ec5b6\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://9dbbb38eaeceb9bb0a849ad19df43654162d4ed9f23df2bbf1e444ce2b287508\",\"dweb:/ipfs/QmV2M4s14uV3Pro7y5pbfqRnNMx98p4W89j8Lt7t8f29bf\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"caller","type":"address"},{"internalType":"bytes4","name":"functionSig","type":"bytes4"}],"type":"error","name":"AccessControl_CallerIsNotAuthorized"},{"inputs":[],"type":"error","name":"Token_AlreadyInitialized"},{"inputs":[],"type":"error","name":"Token_BalanceAdjustmentFailed"},{"inputs":[],"type":"error","name":"Token_CostBasisAdjustmentFailed"},{"inputs":[],"type":"error","name":"Token_DividendMustIncreaseShares"},{"inputs":[],"type":"error","name":"Token_InvalidRatio"},{"inputs":[],"type":"error","name":"Token_MaxSupplyExceeded"},{"inputs":[{"internalType":"uint256","name":"divNum","type":"uint256","indexed":false},{"internalType":"uint256","name":"divDen","type":"uint256","indexed":false},{"internalType":"bool","name":"reducesBasis","type":"bool","indexed":false}],"type":"event","name":"StockDividendApplied","anonymous":false},{"inputs":[{"internalType":"uint256","name":"splitNum","type":"uint256","indexed":false},{"internalType":"uint256","name":"splitDen","type":"uint256","indexed":false}],"type":"event","name":"StockSplitApplied","anonymous":false},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"TokenCorporateActions_init"},{"inputs":[{"internalType":"uint256","name":"divNum","type":"uint256"},{"internalType":"uint256","name":"divDen","type":"uint256"},{"internalType":"bool","name":"reducesBasis","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"applyStockDividend"},{"inputs":[{"internalType":"uint256","name":"splitNum","type":"uint256"},{"internalType":"uint256","name":"splitDen","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"applyStockSplit"},{"inputs":[],"stateMutability":"view","type":"function","name":"getCorporateActionStats","outputs":[{"internalType":"uint256","name":"totalSplits","type":"uint256"},{"internalType":"uint256","name":"totalDividends","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getCumulativeRatios","outputs":[{"internalType":"uint256","name":"splitNum","type":"uint256"},{"internalType":"uint256","name":"splitDen","type":"uint256"},{"internalType":"uint256","name":"divNum","type":"uint256"},{"internalType":"uint256","name":"divDen","type":"uint256"},{"internalType":"uint256","name":"divCostBasisNum","type":"uint256"},{"internalType":"uint256","name":"divCostBasisDen","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getLastActionInfo","outputs":[{"internalType":"uint256","name":"lastActionDate","type":"uint256"},{"internalType":"string","name":"lastActionReason","type":"string"}]}],"devdoc":{"kind":"dev","methods":{"applyStockDividend(uint256,uint256,bool)":{"details":"Example: 10% stock dividend = divNum: 110, divDen: 100      If reducesBasis = true: Taxable dividend, total cost basis unchanged      If reducesBasis = false: Non-taxable dividend, proportional cost basis increase","params":{"divDen":"Denominator of the dividend ratio","divNum":"Numerator of the dividend ratio","reducesBasis":"Whether this dividend reduces per-share cost basis"}},"applyStockSplit(uint256,uint256)":{"details":"Example: 2-for-1 split = splitNum: 2, splitDen: 1      This:      1. Updates corporate action tracking ratios      2. Applies balance adjustment via TokenBalancesFacet      3. Applies inverse cost basis adjustment (per-share basis decreases)","params":{"splitDen":"Denominator of the split ratio","splitNum":"Numerator of the split ratio"}},"getCorporateActionStats()":{"returns":{"totalDividends":"Total number of dividends applied","totalSplits":"Total number of splits applied"}},"getCumulativeRatios()":{"returns":{"divCostBasisDen":"Dividend cost basis denominator","divCostBasisNum":"Dividend cost basis numerator","divDen":"Dividend denominator","divNum":"Dividend numerator","splitDen":"Split denominator","splitNum":"Split numerator"}},"getLastActionInfo()":{"returns":{"lastActionDate":"Timestamp of last action","lastActionReason":"Description of last action"}}},"version":1},"userdoc":{"kind":"user","methods":{"TokenCorporateActions_init()":{"notice":"Initialize the TokenCorporateActionsFacet"},"applyStockDividend(uint256,uint256,bool)":{"notice":"Apply a stock dividend"},"applyStockSplit(uint256,uint256)":{"notice":"Apply a stock split to all outstanding shares"},"getCorporateActionStats()":{"notice":"Get corporate action statistics"},"getCumulativeRatios()":{"notice":"Get all cumulative ratios for historical tracking"},"getLastActionInfo()":{"notice":"Get last action details"}},"version":1}},"settings":{"remappings":["@diamonds/=packages/diamonds/","@offerings/=packages/offerings/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@tokens/=packages/tokens/","@vehicles/=packages/vehicles/","@wallets/=packages/wallets/","FreshCryptoLib/=lib/FreshCryptoLib/solidity/src/","diamonds-src/=packages/diamonds/src/","diamonds/=packages/diamonds/interfaces/","ds-test/=lib/webauthn-sol/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","offerings-src/=packages/offerings/src/","offerings/=packages/offerings/interfaces/","openzeppelin-contracts/=lib/openzeppelin-contracts/","solady/=lib/solady/src/","tokens-src/=packages/tokens/src/","tokens/=packages/tokens/interfaces/","vehicles-src/=packages/vehicles/src/","vehicles/=packages/vehicles/interfaces/","wallets-src/=packages/wallets/src/","wallets/=packages/wallets/interfaces/","webauthn-sol/=lib/webauthn-sol/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"packages/tokens/src/facets/TokenCorporateActionsFacet.sol":"TokenCorporateActionsFacet"},"evmVersion":"prague","libraries":{},"viaIR":true},"sources":{"packages/diamonds/interfaces/IAccessControl.sol":{"keccak256":"0xde8f46c25fc2b888e6820ab983d9a7c505b4eec58d37b8bee1fbde97eaf64ad8","urls":["bzz-raw://da80880d27fb8a58220fa085bfd73e67ea28d8efd48a469b6ed0b906e72c18cf","dweb:/ipfs/QmWahEfboJf8AsTKJt3tEpKtLJFGkcdDCqENrStGUbERKT"],"license":"BUSL-1.1"},"packages/diamonds/src/AccessControl.sol":{"keccak256":"0x49cd20c1f0a0b905b5f58146c4db49a778974bf2ff159c1f2deb2c479074f811","urls":["bzz-raw://79ea82ea48606d4336c8313ab34e48e834ad5300f2bf37db91d83fb216f35062","dweb:/ipfs/QmRLrVL41eHHYhF7hq553n56VYfNx469rx17B78HsemhG8"],"license":"BUSL-1.1"},"packages/tokens/interfaces/token/IToken.sol":{"keccak256":"0x9358c120251d97fc8d1f1e922e8f88d6ad960bace279a33470e92773a9545363","urls":["bzz-raw://1ef539a6eb939f2fd93fc64a9849377cc5720c2a5a0be12fa360b6f3e66522f0","dweb:/ipfs/QmRDBXCWFWpksmjPoJKPDGZrYAYWXppGpohPFS9PBtqVuj"],"license":"BUSL-1.1"},"packages/tokens/src/TokenStorage.sol":{"keccak256":"0x1dc6fd85d112472867fa365b7d57cd8fd58b7a0142e665d1df0a83d0709d531d","urls":["bzz-raw://791f35d9bfb8798ab007c66f5405b8ec7d976e27d326e40db0472a08e2a93d7b","dweb:/ipfs/QmVb5uWLiGGDSGv7sauJ1QGhixzXQfHJpbmwuYCrB72pzm"],"license":"BUSL-1.1"},"packages/tokens/src/facets/TokenCorporateActionsFacet.sol":{"keccak256":"0xc0374997588d0d110fa49c501f62b9b8a0814d6f3a31fb3cb0315731242ec5b6","urls":["bzz-raw://9dbbb38eaeceb9bb0a849ad19df43654162d4ed9f23df2bbf1e444ce2b287508","dweb:/ipfs/QmV2M4s14uV3Pro7y5pbfqRnNMx98p4W89j8Lt7t8f29bf"],"license":"BUSL-1.1"}},"version":1},"id":93}